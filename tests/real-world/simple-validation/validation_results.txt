========================================
Simple Real-World Validation (STL-Free)
========================================

[1;33mTesting Math Library...[0m
  [1/5] Building C++ version...
-- Configuring done (0.1s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/build
[100%] Built target math_library
    âœ“ C++ build successful
  [2/5] Running C++ version...
Vector3D Tests:
  v1 = (1.0, 2.0, 3.0)
  v2 = (4.0, 5.0, 6.0)
  v1 + v2 = (5.0, 7.0, 9.0)
  v1 . v2 = 32.0
  v1 x v2 = (-3.0, 6.0, -3.0)

Matrix3x3 Tests:
  Identity * 2I = 2I (first element: 2.0)
  2I * v1 = (2.0, 4.0, 6.0)

Validation: PASS
    âœ“ C++ execution successful (exit code: 0)
  [3/5] Transpiling to C...
    [Config] Using project-specific args
Error while trying to load a compilation database:
Could not auto-detect compilation database for file "__dummy_for_discovery__.cpp"
No compilation database found in /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library or any parent directory
fixed-compilation-database: Error while opening fixed database: No such file or directory
json-compilation-database: Error while opening JSON database: No such file or directory
Running without flags.
[DEBUG] Installing segfault handler...
[DEBUG] Signal handlers installed
Auto-discovering C++ source files in: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library
Discovered 3 file(s) for transpilation
[DEBUG] About to call Tool.run()...
[1/3] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp.
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp
FileOriginTracker configured with user header paths
Translation unit has 99 top-level declarations
[Bug #30 FIX] Creating independent target ASTContext for C output...
[Bug #30 FIX] Target ASTContext created successfully:
  - ASTContext @ 0x15504ca00
  - Target Triple: arm64-apple-darwin24.5.0
  - Language: C11
[PathMapper] Initialized:
  - Source dir: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library
  - Output dir: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp
  Rel:    src/Matrix3x3.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
{"event":"create_CTU","ctu":"0x155056d68","ctuAsDeclContext":"0x155056d90","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x155056d68 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[PathMapper] Mapped /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp -> /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[PathMapper] C_TU @ 0x155056d68 for target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
Scoped enum translation support initialized (Phase 47)
ArithmeticOperatorTranslator initialized (Phase 50)
Arithmetic operator overloading support initialized (Phase 50)
ComparisonOperatorTranslator initialized (Phase 51)
Comparison & logical operator overloading support initialized (Phase 51)
SpecialOperatorTranslator initialized (Phase 52)
Special operator overloading support initialized (Phase 52)
Type alias and typedef support initialized (Phase 53)
[DEBUG] VisitCXXRecordDecl called for: Vector3D
Translating class: Vector3D
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/include/Vector3D.h
  Rel:    include/Vector3D.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
{"event":"create_CTU","ctu":"0x156858c08","ctuAsDeclContext":"0x156858c30","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x156858c08 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
  -> Struct origin: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/include/Vector3D.h -> target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
  -> NEW STRUCT: Creating and registering Vector3D
  -> Recorded struct Vector3D with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
  -> struct Vector3D with 3 fields added to C_TU @ /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
  Generating implicit copy constructor
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/include/Vector3D.h
  Rel:    include/Vector3D.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
  Generated copy constructor: Vector3D__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 5 method declarations

// Static declarations for all Vector3D methods
static void Vector3D__ctor_3(struct Vector3D *this, float x, float y, float z);
static struct Vector3D Vector3D_add_const_Vector3D_ref(const struct Vector3D *this, const struct Vector3D * other);
static struct Vector3D Vector3D_subtract_const_Vector3D_ref(const struct Vector3D *this, const struct Vector3D * other);
static float Vector3D_dot_const_Vector3D_ref(const struct Vector3D *this, const struct Vector3D * other);
static struct Vector3D Vector3D_cross_const_Vector3D_ref(const struct Vector3D *this, const struct Vector3D * other);
static float Vector3D_magnitude(const struct Vector3D *this);

[DEBUG] VisitCXXMethodDecl called for: Vector3D::Vector3D
Found variable: x
Found variable: y
Found variable: z
[DEBUG] VisitCXXMethodDecl called for: Vector3D::add
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: other
[DEBUG] VisitCXXMethodDecl called for: Vector3D::subtract
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: other
[DEBUG] VisitCXXMethodDecl called for: Vector3D::dot
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: other
[DEBUG] VisitCXXMethodDecl called for: Vector3D::cross
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: other
[DEBUG] VisitCXXMethodDecl called for: Vector3D::magnitude
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXRecordDecl called for: Matrix3x3
Translating class: Matrix3x3
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/include/Matrix3x3.h
  Rel:    include/Matrix3x3.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Matrix3x3.h
{"event":"create_CTU","ctu":"0x1568593a0","ctuAsDeclContext":"0x1568593c8","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Matrix3x3.h"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x1568593a0 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Matrix3x3.h
  -> Struct origin: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/include/Matrix3x3.h -> target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Matrix3x3.h
  -> NEW STRUCT: Creating and registering Matrix3x3
  -> Recorded struct Matrix3x3 with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Matrix3x3.h
  -> struct Matrix3x3 with 1 fields added to C_TU @ /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Matrix3x3.h
  Generating implicit copy constructor
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/include/Matrix3x3.h
  Rel:    include/Matrix3x3.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Matrix3x3.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Matrix3x3.h
    Using memcpy for array field: data
  Generated copy constructor: Matrix3x3__ctor_copy
  [Phase 31-03] Generated 2 constructor, 0 destructor, 5 method declarations

// Static declarations for all Matrix3x3 methods
static void Matrix3x3__ctor(struct Matrix3x3 *this);
static void Matrix3x3__ctor_9(struct Matrix3x3 *this, float m00, float m01, float m02, float m10, float m11, float m12, float m20, float m21, float m22);
static struct Matrix3x3 Matrix3x3_add_const_Matrix3x3_ref(const struct Matrix3x3 *this, const struct Matrix3x3 * other);
static struct Matrix3x3 Matrix3x3_multiply_const_Matrix3x3_ref(const struct Matrix3x3 *this, const struct Matrix3x3 * other);
static struct Vector3D Matrix3x3_multiply_const_Vector3D_ref(const struct Matrix3x3 *this, const struct Vector3D * vec);
static float Matrix3x3_get_int_int(const struct Matrix3x3 *this, int row, int col);
static void Matrix3x3_set_int_int_float(struct Matrix3x3 *this, int row, int col, float value);

[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::Matrix3x3
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::Matrix3x3
Found variable: m00
Found variable: m01
Found variable: m02
Found variable: m10
Found variable: m11
Found variable: m12
Found variable: m20
Found variable: m21
Found variable: m22
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::add
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: other
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::multiply
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: other
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::multiply
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: vec
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::get
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: row
Found variable: col
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::set
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: row
Found variable: col
Found variable: value
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::Matrix3x3
Translating constructor: Matrix3x3::Matrix3x3
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp
  Rel:    src/Matrix3x3.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[DEBUG Bug#26] translateStmt called, type: ForStmt
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: i
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: FloatingLiteral
  [Scope] Exiting scope at depth 0 with 0 objects
  [DEBUG] Added constructor to SHARED map: Matrix3x3__ctor_0 (key: Matrix3x3__ctor_0, map size now: 3)
{"event":"addDecl_CTOR","funcName":"Matrix3x3__ctor_0","funcDecl":"0x155880dd8","targetCTU":"0x155056d68","declContext":"0x155056d90","ctxAsDeclContext":"0x155056d90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c"}
  -> [DEBUG addDecl CTOR] Added Matrix3x3__ctor_0 (FuncDecl @ 0x155880dd8) to C_TU @ 0x155056d68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c) [HAS BODY] [DeclContext @ 0x155056d90]
  -> Matrix3x3__ctor_0 with 1 parameters, 1 statements
Found variable: i
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::Matrix3x3
Translating constructor: Matrix3x3::Matrix3x3
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp
  Rel:    src/Matrix3x3.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [DEBUG] Added constructor to SHARED map: Matrix3x3__ctor_9 (key: Matrix3x3__ctor_9, map size now: 4)
{"event":"addDecl_CTOR","funcName":"Matrix3x3__ctor_9","funcDecl":"0x155881658","targetCTU":"0x155056d68","declContext":"0x155056d90","ctxAsDeclContext":"0x155056d90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c"}
  -> [DEBUG addDecl CTOR] Added Matrix3x3__ctor_9 (FuncDecl @ 0x155881658) to C_TU @ 0x155056d68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c) [HAS BODY] [DeclContext @ 0x155056d90]
  -> Matrix3x3__ctor_9 with 10 parameters, 9 statements
Found variable: m00
Found variable: m01
Found variable: m02
Found variable: m10
Found variable: m11
Found variable: m12
Found variable: m20
Found variable: m21
Found variable: m22
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::add
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Matrix3x3::add
  -> [DEBUG funcName] Generated name for add: Matrix3x3_add_const_Matrix3x3_ref
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp
  Rel:    src/Matrix3x3.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Matrix3x3_add_const_Matrix3x3_ref with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: result
      Is a struct/class type
      Is a C++ class: Matrix3x3
      Found C struct: Matrix3x3
      Creating C variable declaration
      Has constructor expression
      [DEBUG] Looking for constructor in SHARED map (size: 4)
      [DEBUG] Looking for key: Matrix3x3__ctor_0
      Found C constructor: Matrix3x3__ctor_0
      Creating constructor call
[DEBUG Bug#26] translateStmt called, type: ForStmt
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: i
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXConstructExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Matrix3x3
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 1
[DEBUG Bug#26] NumArgs: 1
[DEBUG Bug#26] This is a copy/move constructor, checking argument...
[DEBUG Bug#26] Argument type: ImplicitCastExpr
[DEBUG Bug#26] Unwrapped to: DeclRefExpr
[DEBUG Bug#26] Copy of variable, returning normally
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Matrix3x3_add_const_Matrix3x3_ref with body translated
{"event":"addDecl_METHOD","funcName":"Matrix3x3_add_const_Matrix3x3_ref","funcDecl":"0x1550583b0","targetCTU":"0x155056d68","declContext":"0x155056d90","ctxAsDeclContext":"0x155056d90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c"}
  -> [DEBUG addDecl] Added Matrix3x3_add_const_Matrix3x3_ref (FuncDecl @ 0x1550583b0) to C_TU @ 0x155056d68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c) [HAS BODY] [DeclContext @ 0x155056d90]
  -> Matrix3x3_add_const_Matrix3x3_ref with 2 parameters
Found variable: other
Found variable: result
Found variable: i
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::multiply
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Matrix3x3::multiply
  -> [DEBUG funcName] Generated name for multiply: Matrix3x3_multiply_const_Matrix3x3_ref
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp
  Rel:    src/Matrix3x3.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Matrix3x3_multiply_const_Matrix3x3_ref with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: result
      Is a struct/class type
      Is a C++ class: Matrix3x3
      Found C struct: Matrix3x3
      Creating C variable declaration
      Has constructor expression
      [DEBUG] Looking for constructor in SHARED map (size: 4)
      [DEBUG] Looking for key: Matrix3x3__ctor_0
      Found C constructor: Matrix3x3__ctor_0
      Creating constructor call
[DEBUG Bug#26] translateStmt called, type: ForStmt
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: row
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: ForStmt
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: col
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 2
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: sum
[DEBUG Bug#26] translateStmt called, type: ForStmt
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: k
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 3
[DEBUG Bug#26] translateStmt called, type: CompoundAssignOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 3 with 0 objects
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 2 with 0 objects
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXConstructExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Matrix3x3
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 1
[DEBUG Bug#26] NumArgs: 1
[DEBUG Bug#26] This is a copy/move constructor, checking argument...
[DEBUG Bug#26] Argument type: ImplicitCastExpr
[DEBUG Bug#26] Unwrapped to: DeclRefExpr
[DEBUG Bug#26] Copy of variable, returning normally
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Matrix3x3_multiply_const_Matrix3x3_ref with body translated
{"event":"addDecl_METHOD","funcName":"Matrix3x3_multiply_const_Matrix3x3_ref","funcDecl":"0x155058db0","targetCTU":"0x155056d68","declContext":"0x155056d90","ctxAsDeclContext":"0x155056d90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c"}
  -> [DEBUG addDecl] Added Matrix3x3_multiply_const_Matrix3x3_ref (FuncDecl @ 0x155058db0) to C_TU @ 0x155056d68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c) [HAS BODY] [DeclContext @ 0x155056d90]
  -> Matrix3x3_multiply_const_Matrix3x3_ref with 2 parameters
Found variable: other
Found variable: result
Found variable: row
Found variable: col
Found variable: sum
Found variable: k
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::multiply
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Matrix3x3::multiply
  -> [DEBUG funcName] Generated name for multiply: Matrix3x3_multiply_const_Vector3D_ref
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp
  Rel:    src/Matrix3x3.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Matrix3x3_multiply_const_Vector3D_ref with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXTemporaryObjectExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Vector3D
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 3
[DEBUG Bug#26] Looking up in targetCtx.getCtorMap() (size: 4)
[DEBUG Bug#26] WARNING: Constructor not found in targetCtx.getCtorMap() for return statement
[DEBUG Bug#26] Constructor name: Vector3D
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Matrix3x3_multiply_const_Vector3D_ref with body translated
{"event":"addDecl_METHOD","funcName":"Matrix3x3_multiply_const_Vector3D_ref","funcDecl":"0x155059800","targetCTU":"0x155056d68","declContext":"0x155056d90","ctxAsDeclContext":"0x155056d90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c"}
  -> [DEBUG addDecl] Added Matrix3x3_multiply_const_Vector3D_ref (FuncDecl @ 0x155059800) to C_TU @ 0x155056d68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c) [HAS BODY] [DeclContext @ 0x155056d90]
  -> Matrix3x3_multiply_const_Vector3D_ref with 2 parameters
Found variable: vec
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::get
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Matrix3x3::get
  -> [DEBUG funcName] Generated name for get: Matrix3x3_get_int_int
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp
  Rel:    src/Matrix3x3.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Matrix3x3_get_int_int with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: ArraySubscriptExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Matrix3x3_get_int_int with body translated
{"event":"addDecl_METHOD","funcName":"Matrix3x3_get_int_int","funcDecl":"0x135809788","targetCTU":"0x155056d68","declContext":"0x155056d90","ctxAsDeclContext":"0x155056d90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c"}
  -> [DEBUG addDecl] Added Matrix3x3_get_int_int (FuncDecl @ 0x135809788) to C_TU @ 0x155056d68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c) [HAS BODY] [DeclContext @ 0x155056d90]
  -> Matrix3x3_get_int_int with 3 parameters
Found variable: row
Found variable: col
[DEBUG] VisitCXXMethodDecl called for: Matrix3x3::set
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Matrix3x3::set
  -> [DEBUG funcName] Generated name for set: Matrix3x3_set_int_int_float
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp
  Rel:    src/Matrix3x3.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Matrix3x3_set_int_int_float with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Matrix3x3_set_int_int_float with body translated
{"event":"addDecl_METHOD","funcName":"Matrix3x3_set_int_int_float","funcDecl":"0x135809c50","targetCTU":"0x155056d68","declContext":"0x155056d90","ctxAsDeclContext":"0x155056d90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c"}
  -> [DEBUG addDecl] Added Matrix3x3_set_int_int_float (FuncDecl @ 0x135809c50) to C_TU @ 0x155056d68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c) [HAS BODY] [DeclContext @ 0x155056d90]
  -> Matrix3x3_set_int_int_float with 4 parameters
Found variable: row
Found variable: col
Found variable: value
[DEBUG AFTER TRAVERSAL] C_TU @ 0x155056d68 has 7 declarations after traversal
  [AFTER TRAVERSAL] FunctionDecl: Matrix3x3__ctor_0
  [AFTER TRAVERSAL] FunctionDecl: Matrix3x3__ctor_9
  [AFTER TRAVERSAL] FunctionDecl: Matrix3x3_add_const_Matrix3x3_ref
  [AFTER TRAVERSAL] FunctionDecl: Matrix3x3_multiply_const_Matrix3x3_ref
  [AFTER TRAVERSAL] FunctionDecl: Matrix3x3_multiply_const_Vector3D_ref
  [AFTER TRAVERSAL] FunctionDecl: Matrix3x3_get_int_int
  [AFTER TRAVERSAL] FunctionDecl: Matrix3x3_set_int_int_float

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 7 generated declarations
[DEBUG] getUserHeaderFiles() returned 2 headers
[DEBUG]   - /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/include/Matrix3x3.h
[DEBUG]   - /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/include/Vector3D.h
[DEBUG] Skipping self-include: src/Matrix3x3.h (matches current file: Matrix3x3)
{"event":"iterate_HEADER_START","ctu":"0x155056d68","ctuAsDeclContext":"0x155056d90","declCount":7,"file":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp"}
[DEBUG] Starting header emission - C_TU @ 0x155056d68 has 7 total declarations
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Matrix3x3__ctor_0","declPtr":"0x155880dd8","isImplicit":false,"declContext":"0x155056d90"}
[DEBUG-HEADER] Processing FunctionDecl: Matrix3x3__ctor_0 @ 0x155880dd8 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Matrix3x3__ctor_9","declPtr":"0x155881658","isImplicit":false,"declContext":"0x155056d90"}
[DEBUG-HEADER] Processing FunctionDecl: Matrix3x3__ctor_9 @ 0x155881658 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Matrix3x3_add_const_Matrix3x3_ref","declPtr":"0x1550583b0","isImplicit":false,"declContext":"0x155056d90"}
[DEBUG-HEADER] Processing FunctionDecl: Matrix3x3_add_const_Matrix3x3_ref @ 0x1550583b0 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Matrix3x3_multiply_const_Matrix3x3_ref","declPtr":"0x155058db0","isImplicit":false,"declContext":"0x155056d90"}
[DEBUG-HEADER] Processing FunctionDecl: Matrix3x3_multiply_const_Matrix3x3_ref @ 0x155058db0 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"Fun[2/3] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Vector3D.cpp.
ctionDecl","name":"Matrix3x3_multiply_const_Vector3D_ref","declPtr":"0x155059800","isImplicit":false,"declContext":"0x155056d90"}
[DEBUG-HEADER] Processing FunctionDecl: Matrix3x3_multiply_const_Vector3D_ref @ 0x155059800 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Matrix3x3_get_int_int","declPtr":"0x135809788","isImplicit":false,"declContext":"0x155056d90"}
[DEBUG-HEADER] Processing FunctionDecl: Matrix3x3_get_int_int @ 0x135809788 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Matrix3x3_set_int_int_float","declPtr":"0x135809c50","isImplicit":false,"declContext":"0x155056d90"}
[DEBUG-HEADER] Processing FunctionDecl: Matrix3x3_set_int_int_float @ 0x135809c50 (implicit=0)
[DEBUG] Starting implementation emission - C_TU @ 0x155056d68 has 7 total declarations
[DEBUG-IMPL] Processing FunctionDecl: Matrix3x3__ctor_0 (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Matrix3x3__ctor_9 (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Matrix3x3_add_const_Matrix3x3_ref (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Matrix3x3_multiply_const_Matrix3x3_ref (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Matrix3x3_multiply_const_Vector3D_ref (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Matrix3x3_get_int_int (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Matrix3x3_set_int_int_float (implicit=0)
Generated files:
  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.h
  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Vector3D.cpp
FileOriginTracker configured with user header paths
Translation unit has 493 top-level declarations
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Vector3D.cpp
  Rel:    src/Vector3D.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Vector3D.c
{"event":"create_CTU","ctu":"0x135809e58","ctuAsDeclContext":"0x135809e80","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Vector3D.c"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x135809e58 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Vector3D.c
[PathMapper] Mapped /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Vector3D.cpp -> /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Vector3D.c
[PathMapper] C_TU @ 0x135809e58 for target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Vector3D.c
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
Scoped enum translation support initialized (Phase 47)
ArithmeticOperatorTranslator initialized (Phase 50)
Arithmetic operator overloading support initialized (Phase 50)
ComparisonOperatorTranslator initialized (Phase 51)
Comparison & logical operator overloading support initialized (Phase 51)
SpecialOperatorTranslator initialized (Phase 52)
Special operator overloading support initialized (Phase 52)
Type alias and typedef support initialized (Phase 53)
[DEBUG] VisitCXXRecordDecl called for: Vector3D
Translating class: Vector3D
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/include/Vector3D.h
  Rel:    include/Vector3D.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
  -> Struct origin: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/include/Vector3D.h -> target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
  -> DEDUPLICATION: Struct Vector3D already exists, reusing and adding to this file's C_TU
  Generating implicit copy constructor
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/include/Vector3D.h
  Rel:    include/Vector3D.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/include/Vector3D.h
  Generated copy constructor: Vector3D__ctor_copy
[DEBUG] VisitCXXMethodDecl called for: Vector3D::Vector3D
Found variable: x
Found variable: y
Found variable: z
[DEBUG] VisitCXXMethodDecl called for: Vector3D::add
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: other
[DEBUG] VisitCXXMethodDecl called for: Vector3D::subtract
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: other
[DEBUG] VisitCXXMethodDecl called for: Vector3D::dot
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: other
[DEBUG] VisitCXXMethodDecl called for: Vector3D::cross
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: other
[DEBUG] VisitCXXMethodDecl called for: Vector3D::magnitude
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXRecordDecl called for: enable_if
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: enable_if
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: integral_constant
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXMethodDecl called for: integral_constant::operator type-parameter-0-0
[DEBUG]   -> Skipped: shouldTranspile returned false
Translating conversion operator: std::integral_constant::operator type-parameter-0-0
[PathMapper::mapSourceToTarget]
  Input:  /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__type_traits/integral_constant.h
  Rel:    /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__type_traits/integral_constant.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__type_traits/integral_constant.h
{"event":"create_CTU","ctu":"0x1550d0158","ctuAsDeclContext":"0x1550d0180","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__type_traits/integral_constant.h"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x1550d0158 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__type_traits/integral_constant.h
Translating conversionAssertion failed: (Name.isIdentifier() && "Name is not a simple identifier"), function getName, file Decl.h, line 301.
[DEBUG FileOutputManager] writeFile called with filename: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.h
[DEBUG FileOutputManager] Content size: 1042 bytes
[DEBUG FileOutputManager] Parent directory: "/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src"
[DEBUG FileOutputManager] Parent directory empty: no
[DEBUG FileOutputManager] Parent directory exists: no
[DEBUG FileOutputManager] Creating parent directory: "/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src"
[DEBUG FileOutputManager] Parent directory created successfully
[DEBUG FileOutputManager] Opening file for writing: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.h
[DEBUG FileOutputManager] File opened successfully
[DEBUG FileOutputManager] Content written successfully
[DEBUG FileOutputManager] File closed successfully
[DEBUG FileOutputManager] writeFile returning true
[DEBUG FileOutputManager] writeFile called with filename: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[DEBUG FileOutputManager] Content size: 2088 bytes
[DEBUG FileOutputManager] Parent directory: "/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src"
[DEBUG FileOutputManager] Parent directory empty: no
[DEBUG FileOutputManager] Parent directory exists: yes
[DEBUG FileOutputManager] Opening file for writing: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/transpiled/src/Matrix3x3.c
[DEBUG FileOutputManager] File opened successfully
[DEBUG FileOutputManager] Content written successfully
[DEBUG FileOutputManager] File closed successfully
[DEBUG FileOutputManager] writeFile returning true


!!! SEGFAULT CAUGHT (signal 6) !!!
Last operation before crash:
Backtrace:
0   cpptoc                              0x000000010470bc40 _ZL15segfaultHandleri + 120
1   libsystem_platform.dylib            0x000000019cb38624 _sigtramp + 56
2   libsystem_pthread.dylib             0x000000019cafe88c pthread_kill + 296
3   libsystem_c.dylib                   0x000000019ca07c60 abort + 124
4   libsystem_c.dylib                   0x000000019ca06eec err + 0
5   cpptoc                              0x0000000104877528 _ZNK5clang9NamedDecl7getNameEv + 104
6   cpptoc                              0x0000000104b08e60 _ZN11NameMangler10mangleNameEPN5clang13CXXMethodDeclE + 156
7   cpptoc                              0x000000010487f220 _ZN13CppToCVisitor22VisitCXXConversionDeclEPN5clang17CXXConversionDeclE + 364
8   cpptoc                              0x000000010484e200 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE27WalkUpFromCXXConversionDeclEPNS_17CXXConversionDeclE + 100
9   cpptoc                              0x000000010474f018 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseCXXConversionDeclEPNS_17CXXConversionDeclE + 76
10  cpptoc                              0x0000000104738314 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 2112
11  cpptoc                              0x00000001047e543c _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseDeclContextHelperEPNS_11DeclContextE + 208
12  cpptoc                              0x0000000104752598 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE21TraverseCXXRecordDeclEPNS_13CXXRecordDeclE + 224
13  cpptoc                              0x0000000104738734 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 3168
14  cpptoc                              0x00000001047548dc _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseClassTemplateDeclEPNS_17ClassTemplateDeclE + 216
15  cpptoc                              0x00000001047389a4 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 3792
16  cpptoc                              0x00000001047e543c _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseDeclContextHelperEPNS_11DeclContextE + 208
17  cpptoc                              0x000000010474d5e4 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE21TraverseNamespaceDeclEPNS_13NamespaceDeclE + 172
18  cpptoc                              0x00000001047380a4 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 1488
19  cpptoc                              0x00000001047e543c _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseDeclContextHelperEPNS_11DeclContextE + 208
20  cpptoc                              0x000000010474d5e4 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE21TraverseNamespaceDeclEPNS_13NamespaceDeclE + 172
21  cpptoc                              0x00000001047380a4 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 1488
22  cpptoc                              0x00000001047e543c _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseDeclContextHelperEPNS_11DeclContextE + 208
23  cpptoc                              0x00000001047498ac _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE27TraverseTranslationUnitDeclEPNS_19TranslationUnitDeclE + 448
24  cpptoc                              0x0000000104737c24 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 336
25  cpptoc                              0x0000000104734bc4 _ZN14CppToCConsumer21HandleTranslationUnitERN5clang10ASTContextE + 1196
26  cpptoc                              0x0000000105f60f54 _ZN5clang8ParseASTERNS_4SemaEbb + 976
27  cpptoc                              0x0000000104fa5608 _ZN5clang17ASTFrontendAction13ExecuteActionEv + 260
28  cpptoc                              0x0000000104fa4ef0 _ZN5clang14FrontendAction7ExecuteEv + 36
29  cpptoc                              0x0000000104edf6c0 _ZN5clang16CompilerInstance13ExecuteActionERNS_14FrontendActionE + 1392
30  cpptoc                              0x0000000104ea526c _ZN5clang7tooling21FrontendActionFactory13runInvocationENSt3__110shared_ptrINS_18CompilerInvocationEEEPNS_11FileManagerENS3_INS_22PCHContainerOperationsEEEPNS_18DiagnosticConsumerE + 364
31  cpptoc                              0x0000000104ea5064 _ZN5clang7tooling14ToolInvocation13runInvocationEPKcPNS_6driver11CompilationENSt3__110shared_ptrINS_18CompilerInvocationEEENS8_INS_22PCHContainerOperationsEEE + 240
32  cpptoc                              0x0000000104ea37e8 _ZN5clang7tooling14ToolInvocation3runEv + 2016
33  cpptoc                              0x0000000104ea7628 _ZN5clang7tooling9ClangTool3runEPNS0_10ToolActionE + 5464
34  cpptoc                              0x000000010470b540 main + 1676
35  dyld                                0x000000019c75eb98 start + 6076

!!! CRITICAL: Exiting due to segfault !!!
    [0;31mâœ— Transpilation failed[0m
[0;31mâŒ FAIL: Math Library[0m

[1;33mTesting Custom Container...[0m
  [1/5] Building C++ version...
-- Configuring done (0.1s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/build
[100%] Built target custom_container
    âœ“ C++ build successful
  [2/5] Running C++ version...
LinkedList<int> Tests:
  Initial size: 0
  Is empty: true
  After push_back(10, 20, 30): size = 3
  Front element: 10
  After push_front(5): size = 4, front = 5
  After pop_front(): size = 3, front = 10

LinkedList<float> Tests:
  Size: 3
  Front: 1.5

Validation: PASS
    âœ“ C++ execution successful (exit code: 0)
  [3/5] Transpiling to C...
    [Config] Using project-specific args
[DEBUG] Installing segfault handler...
[DEBUG] Signal handlers installed
Auto-discovering C++ source files in: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container
Discovered 1 file(s) for transpilation
[DEBUG] About to call Tool.run()...
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/main.cpp
FileOriginTracker configured with user header paths
Translation unit has 248 top-level declarations
[Bug #30 FIX] Creating independent target ASTContext for C output...
[Bug #30 FIX] Target ASTContext created successfully:
  - ASTContext @ 0x142099c00
  - Target Triple: arm64-apple-darwin24.5.0
  - Language: C11
[PathMapper] Initialized:
  - Source dir: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container
  - Output dir: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/transpiled
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/main.cpp
  Rel:    main.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/transpiled/main.c
{"event":"create_CTU","ctu":"0x1420a3f68","ctuAsDeclContext":"0x1420a3f90","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/transpiled/main.c"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x1420a3f68 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/transpiled/main.c
[PathMapper] Mapped /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/main.cpp -> /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/transpiled/main.c
[PathMapper] C_TU @ 0x1420a3f68 for target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/transpiled/main.c
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
Scoped enum translation support initialized (Phase 47)
ArithmeticOperatorTranslator initialized (Phase 50)
Arithmetic operator overloading support initialized (Phase 50)
ComparisonOperatorTranslator initialized (Phase 51)
Comparison & logical operator overloading support initialized (Phase 51)
SpecialOperatorTranslator initialized (Phase 52)
Special operator overloading support initialized (Phase 52)
Type alias and typedef support initialized (Phase 53)
[DEBUG] VisitCXXRecordDecl called for: enable_if
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: enable_if
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: integral_constant
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXMethodDecl called for: integral_constant::operator type-parameter-0-0
[DEBUG]   -> Skipped: shouldTranspile returned false
Translating conversion operator: std::integral_constant::operator type-parameter-0-0
[PathMapper::mapSourceToTarget]
  Input:  /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__type_traits/integral_constant.h
  Rel:    /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__type_traits/integral_constant.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/transpiled/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__type_traits/integral_constant.h
{"event":"create_CTU","ctu":"0x1420a4608","ctuAsDeclContext":"0x1420a4630","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-Assertion failed: (Name.isIdentifier() && "Name is not a simple identifier"), function getName, file Decl.h, line 301.


!!! SEGFAULT CAUGHT (signal 6) !!!
Last operation before crash:
Backtrace:
0   cpptoc                              0x000000010482fc40 _ZL15segfaultHandleri + 120
1   libsystem_platform.dylib            0x000000019cb38624 _sigtramp + 56
2   libsystem_pthread.dylib             0x000000019cafe88c pthread_kill + 296
3   libsystem_c.dylib                   0x000000019ca07c60 abort + 124
4   libsystem_c.dylib                   0x000000019ca06eec err + 0
5   cpptoc                              0x000000010499b528 _ZNK5clang9NamedDecl7getNameEv + 104
6   cpptoc                              0x0000000104c2ce60 _ZN11NameMangler10mangleNameEPN5clang13CXXMethodDeclE + 156
7   cpptoc                              0x00000001049a3220 _ZN13CppToCVisitor22VisitCXXConversionDeclEPN5clang17CXXConversionDeclE + 364
8   cpptoc                              0x0000000104972200 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE27WalkUpFromCXXConversionDeclEPNS_17CXXConversionDeclE + 100
9   cpptoc                              0x0000000104873018 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseCXXConversionDeclEPNS_17CXXConversionDeclE + 76
10  cpptoc                              0x000000010485c314 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 2112
11  cpptoc                              0x000000010490943c _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseDeclContextHelperEPNS_11DeclContextE + 208
12  cpptoc                              0x0000000104876598 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE21TraverseCXXRecordDeclEPNS_13CXXRecordDeclE + 224
13  cpptoc                              0x000000010485c734 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 3168
14  cpptoc                              0x00000001048788dc _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseClassTemplateDeclEPNS_17ClassTemplateDeclE + 216
15  cpptoc                              0x000000010485c9a4 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 3792
16  cpptoc                              0x000000010490943c _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseDeclContextHelperEPNS_11DeclContextE + 208
17  cpptoc                              0x00000001048715e4 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE21TraverseNamespaceDeclEPNS_13NamespaceDeclE + 172
18  cpptoc                              0x000000010485c0a4 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 1488
19  cpptoc                              0x000000010490943c _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseDeclContextHelperEPNS_11DeclContextE + 208
20  cpptoc                              0x00000001048715e4 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE21TraverseNamespaceDeclEPNS_13NamespaceDeclE + 172
21  cpptoc                              0x000000010485c0a4 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 1488
22  cpptoc                              0x000000010490943c _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseDeclContextHelperEPNS_11DeclContextE + 208
23  cpptoc                              0x000000010486d8ac _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE27TraverseTranslationUnitDeclEPNS_19TranslationUnitDeclE + 448
24  cpptoc                              0x000000010485bc24 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 336
25  cpptoc                              0x0000000104858bc4 _ZN14CppToCConsumer21HandleTranslationUnitERN5clang10ASTContextE + 1196
26  cpptoc                              0x0000000106084f54 _ZN5clang8ParseASTERNS_4SemaEbb + 976
27  cpptoc                              0x00000001050c9608 _ZN5clang17ASTFrontendAction13ExecuteActionEv + 260
28  cpptoc                              0x00000001050c8ef0 _ZN5clang14FrontendAction7ExecuteEv + 36
29  cpptoc                              0x00000001050036c0 _ZN5clang16CompilerInstance13ExecuteActionERNS_14FrontendActionE + 1392
30  cpptoc                              0x0000000104fc926c _ZN5clang7tooling21FrontendActionFactory13runInvocationENSt3__110shared_ptrINS_18CompilerInvocationEEEPNS_11FileManagerENS3_INS_22PCHContainerOperationsEEEPNS_18DiagnosticConsumerE + 364
31  cpptoc                              0x0000000104fc9064 _ZN5clang7tooling14ToolInvocation13runInvocationEPKcPNS_6driver11CompilationENSt3__110shared_ptrINS_18CompilerInvocationEEENS8_INS_22PCHContainerOperationsEEE + 240
32  cpptoc                              0x0000000104fc77e8 _ZN5clang7tooling14ToolInvocation3runEv + 2016
33  cpptoc                              0x0000000104fcb628 _ZN5clang7tooling9ClangTool3runEPNS0_10ToolActionE + 5464
34  cpptoc                              0x000000010482f540 main + 1676
35  dyld                                0x000000019c75eb98 start + 6076

!!! CRITICAL: Exiting due to segfault !!!
    [0;31mâœ— Transpilation failed[0m
[0;31mâŒ FAIL: Custom Container[0m

[1;33mTesting State Machine...[0m
  [1/5] Building C++ version...
-- Configuring done (0.1s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/build
[100%] Built target state_machine
    âœ“ C++ build successful
  [2/5] Running C++ version...
State Machine Tests:
  Initial state: Menu
  After Menu -> Playing: Playing
  After Playing -> Paused: Paused
  After Paused -> Playing: Playing
  After Playing -> GameOver: GameOver
  After GameOver -> Playing (invalid): GameOver
  After GameOver -> Menu: Menu
  Total valid transitions: 5

Validation: PASS
    âœ“ C++ execution successful (exit code: 0)
  [3/5] Transpiling to C...
    [Config] Using project-specific args
Error while trying to load a compilation database:
Could not auto-detect compilation database for file "__dummy_for_discovery__.cpp"
No compilation database found in /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine or any parent directory
fixed-compilation-database: Error while opening fixed database: No such file or directory
json-compilation-database: Error while opening JSON database: No such file or directory
Running without flags.
[DEBUG] Installing segfault handler...
[DEBUG] Signal handlers installed
Auto-discovering C++ source files in: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine
Discovered 2 file(s) for transpilation
[DEBUG] About to call Tool.run()...
[1/2] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp.
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp
FileOriginTracker configured with user header paths
Translation unit has 98 top-level declarations
[Bug #30 FIX] Creating independent target ASTContext for C output...
[Bug #30 FIX] Target ASTContext created successfully:
  - ASTContext @ 0x130042400
  - Target Triple: arm64-apple-darwin24.5.0
  - Language: C11
[PathMapper] Initialized:
  - Source dir: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine
  - Output dir: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp
  Rel:    src/StateMachine.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
{"event":"create_CTU","ctu":"0x13004ab68","ctuAsDeclContext":"0x13004ab90","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x13004ab68 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[PathMapper] Mapped /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp -> /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[PathMapper] C_TU @ 0x13004ab68 for target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
Scoped enum translation support initialized (Phase 47)
ArithmeticOperatorTranslator initialized (Phase 50)
Arithmetic operator overloading support initialized (Phase 50)
ComparisonOperatorTranslator initialized (Phase 51)
Comparison & logical operator overloading support initialized (Phase 51)
SpecialOperatorTranslator initialized (Phase 52)
Special operator overloading support initialized (Phase 52)
Type alias and typedef support initialized (Phase 53)
Translating enum: GameState
  -> NEW ENUM: Creating and registering GameState
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/GameState.h
  Rel:    include/GameState.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/GameState.h
{"event":"create_CTU","ctu":"0x130030a28","ctuAsDeclContext":"0x130030a50","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/GameState.h"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x130030a28 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/GameState.h
  -> Recorded enum GameState with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/GameState.h
  -> enum GameState added to C_TU (will be declared in this file's header)
    Mapped: Menu (C++) -> GameState__Menu (C)
    Mapped: Playing (C++) -> GameState__Playing (C)
    Mapped: Paused (C++) -> GameState__Paused (C)
    Mapped: GameOver (C++) -> GameState__GameOver (C)
  -> C enum GameState created via EnumTranslator and added to C_TU
[DEBUG] VisitCXXRecordDecl called for: StateMachine
Translating class: StateMachine
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/StateMachine.h
  Rel:    include/StateMachine.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
{"event":"create_CTU","ctu":"0x130030a98","ctuAsDeclContext":"0x130030ac0","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x130030a98 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
  -> Struct origin: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/StateMachine.h -> target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
  -> NEW STRUCT: Creating and registering StateMachine
  -> Recorded struct StateMachine with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
  -> struct StateMachine with 2 fields added to C_TU @ /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
  Generating implicit copy constructor
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/StateMachine.h
  Rel:    include/StateMachine.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
  Generated copy constructor: StateMachine__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 4 method declarations

// Static declarations for all StateMachine methods
static void StateMachine__ctor_1(struct StateMachine *this, GameState initialState);
static void StateMachine_transition_GameState(struct StateMachine *this, GameState newState);
static GameState StateMachine_getCurrentState(const struct StateMachine *this);
static int StateMachine_getTransitionCount(const struct StateMachine *this);
static int StateMachine_isValidTransition_GameState_GameState(const struct StateMachine *this, GameState from, GameState to);

[DEBUG] VisitCXXMethodDecl called for: StateMachine::StateMachine
Found variable: initialState
[DEBUG] VisitCXXMethodDecl called for: StateMachine::transition
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: newState
[DEBUG] VisitCXXMethodDecl called for: StateMachine::getCurrentState
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: StateMachine::getTransitionCount
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: StateMachine::isValidTransition
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: from
Found variable: to
[DEBUG] VisitCXXMethodDecl called for: StateMachine::StateMachine
Translating constructor: StateMachine::StateMachine
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp
  Rel:    src/StateMachine.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
  [DEBUG] Added constructor to SHARED map: StateMachine__ctor_1 (key: StateMachine__ctor_1, map size now: 2)
{"event":"addDecl_CTOR","funcName":"StateMachine__ctor_1","funcDecl":"0x1300312c8","targetCTU":"0x13004ab68","declContext":"0x13004ab90","ctxAsDeclContext":"0x13004ab90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c"}
  -> [DEBUG addDecl CTOR] Added StateMachine__ctor_1 (FuncDecl @ 0x1300312c8) to C_TU @ 0x13004ab68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c) [HAS BODY] [DeclContext @ 0x13004ab90]
  -> StateMachine__ctor_1 with 2 parameters, 2 statements
Found variable: initialState
[DEBUG] VisitCXXMethodDecl called for: StateMachine::transition
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: StateMachine::transition
  -> [DEBUG funcName] Generated name for transition: StateMachine_transition_GameState
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp
  Rel:    src/StateMachine.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method StateMachine_transition_GameState with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Warning: Method not in targetCtx.getMethodMap() map, generating call anyway: StateMachine::isValidTransition
  Generated function name: StateMachine_isValidTransition_GameState_GameState
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/StateMachine.h
  Rel:    include/StateMachine.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
  -> [DEBUG addDecl FORWARD] Added forward decl StateMachine_isValidTransition_GameState_GameState (FuncDecl @ 0x1398418e0) to C_TU @ 0x130030a98 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h) [NO BODY] [DeclContext @ 0x130030ac0]
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: UnaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
  -> StateMachine_transition_GameState with body translated
{"event":"addDecl_METHOD","funcName":"StateMachine_transition_GameState","funcDecl":"0x1300316e0","targetCTU":"0x13004ab68","declContext":"0x13004ab90","ctxAsDeclContext":"0x13004ab90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c"}
  -> [DEBUG addDecl] Added StateMachine_transition_GameState (FuncDecl @ 0x1300316e0) to C_TU @ 0x13004ab68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c) [HAS BODY] [DeclContext @ 0x13004ab90]
  -> StateMachine_transition_GameState with 2 parameters
Found variable: newState
[DEBUG] VisitCXXMethodDecl called for: StateMachine::getCurrentState
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: StateMachine::getCurrentState
  -> [DEBUG funcName] Generated name for getCurrentState: StateMachine_getCurrentState
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp
  Rel:    src/StateMachine.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method StateMachine_getCurrentState with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> StateMachine_getCurrentState with body translated
{"event":"addDecl_METHOD","funcName":"StateMachine_getCurrentState","funcDecl":"0x139841c98","targetCTU":"0x13004ab68","declContext":"0x13004ab90","ctxAsDeclContext":"0x13004ab90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c"}
  -> [DEBUG addDecl] Added StateMachine_getCurrentState (FuncDecl @ 0x139841c98) to C_TU @ 0x13004ab68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c) [HAS BODY] [DeclContext @ 0x13004ab90]
  -> StateMachine_getCurrentState with 1 parameters
[DEBUG] VisitCXXMethodDecl called for: StateMachine::getTransitionCount
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: StateMachine::getTransitionCount
  -> [DEBUG funcName] Generated name for getTransitionCount: StateMachine_getTransitionCount
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp
  Rel:    src/StateMachine.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method StateMachine_getTransitionCount with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> StateMachine_getTransitionCount with body translated
{"event":"addDecl_METHOD","funcName":"StateMachine_getTransitionCount","funcDecl":"0x139841f70","targetCTU":"0x13004ab68","declContext":"0x13004ab90","ctxAsDeclContext":"0x13004ab90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c"}
  -> [DEBUG addDecl] Added StateMachine_getTransitionCount (FuncDecl @ 0x139841f70) to C_TU @ 0x13004ab68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c) [HAS BODY] [DeclContext @ 0x13004ab90]
  -> StateMachine_getTransitionCount with 1 parameters
[DEBUG] VisitCXXMethodDecl called for: StateMachine::isValidTransition
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: StateMachine::isValidTransition
  -> [DEBUG funcName] Generated name for isValidTransition: StateMachine_isValidTransition_GameState_GameState
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp
  Rel:    src/StateMachine.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method StateMachine_isValidTransition_GameState_GameState with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: SwitchStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: CaseStmt
  Translating scoped enum ref: Menu -> GameState__Menu
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: BinaryOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  Translating scoped enum ref: Playing -> GameState__Playing
[DEBUG Bug#26] translateStmt called, type: CaseStmt
  Translating scoped enum ref: Playing -> GameState__Playing
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: BinaryOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  Translating scoped enum ref: Paused -> GameState__Paused
  Translating scoped enum ref: GameOver -> GameState__GameOver
[DEBUG Bug#26] translateStmt called, type: CaseStmt
  Translating scoped enum ref: Paused -> GameState__Paused
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: BinaryOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  Translating scoped enum ref: Playing -> GameState__Playing
  Translating scoped enum ref: Menu -> GameState__Menu
  Translating scoped enum ref: GameOver -> GameState__GameOver
[DEBUG Bug#26] translateStmt called, type: CaseStmt
  Translating scoped enum ref: GameOver -> GameState__GameOver
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: BinaryOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  Translating scoped enum ref: Menu -> GameState__Menu
[DEBUG Bug#26] translateStmt called, type: DefaultStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXBoolLiteralExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
  -> StateMachine_isValidTransition_GameState_GameState with body translated
{"event":"addDecl_METHOD","funcName":"StateMachine_isValidTransition_GameState_GameState","funcDecl":"0x139842360","targetCTU":"0x13004ab68","declContext":"0x13004ab90","ctxAsDeclContext":"0x13004ab90","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c"}
  -> [DEBUG addDecl] Added StateMachine_isValidTransition_GameState_GameState (FuncDecl @ 0x139842360) to C_TU @ 0x13004ab68 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c) [HAS BODY] [DeclContext @ 0x13004ab90]
  -> StateMachine_isValidTransition_GameState_GameState with 3 parameters
Found variable: from
Found variable: to
[DEBUG AFTER TRAVERSAL] C_TU @ 0x13004ab68 has 5 declarations after traversal
  [AFTER TRAVERSAL] FunctionDecl: StateMachine__ctor_1
  [AFTER TRAVERSAL] FunctionDecl: StateMachine_transition_GameState
  [AFTER TRAVERSAL] FunctionDecl: StateMachine_getCurrentState
  [AFTER TRAVERSAL] FunctionDecl: StateMachine_getTransitionCount
  [AFTER TRAVERSAL] FunctionDecl: StateMachine_isValidTransition_GameState_GameState

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 5 generated declarations
[DEBUG] getUserHeaderFiles() returned 2 headers
[DEBUG]   - /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/GameState.h
[DEBUG]   - /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/StateMachine.h
[DEBUG] Skipping self-include: src/StateMachine.h (matches current file: StateMachine)
{"event":"iterate_HEADER_START","ctu":"0x13004ab68","ctuAsDeclContext":"0x13004ab90","declCount":5,"file":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp"}
[DEBUG] Starting header emission - C_TU @ 0x13004ab68 has 5 total declarations
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"StateMachine__[2/2] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp.
ctor_1","declPtr":"0x1300312c8","isImplicit":false,"declContext":"0x13004ab90"}
[DEBUG-HEADER] Processing FunctionDecl: StateMachine__ctor_1 @ 0x1300312c8 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"StateMachine_transition_GameState","declPtr":"0x1300316e0","isImplicit":false,"declContext":"0x13004ab90"}
[DEBUG-HEADER] Processing FunctionDecl: StateMachine_transition_GameState @ 0x1300316e0 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"StateMachine_getCurrentState","declPtr":"0x139841c98","isImplicit":false,"declContext":"0x13004ab90"}
[DEBUG-HEADER] Processing FunctionDecl: StateMachine_getCurrentState @ 0x139841c98 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"StateMachine_getTransitionCount","declPtr":"0x139841f70","isImplicit":false,"declContext":"0x13004ab90"}
[DEBUG-HEADER] Processing FunctionDecl: StateMachine_getTransitionCount @ 0x139841f70 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"StateMachine_isValidTransition_GameState_GameState","declPtr":"0x139842360","isImplicit":false,"declContext":"0x13004ab90"}
[DEBUG-HEADER] Processing FunctionDecl: StateMachine_isValidTransition_GameState_GameState @ 0x139842360 (implicit=0)
[DEBUG] Starting implementation emission - C_TU @ 0x13004ab68 has 5 total declarations
[DEBUG-IMPL] Processing FunctionDecl: StateMachine__ctor_1 (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: StateMachine_transition_GameState (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: StateMachine_getCurrentState (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: StateMachine_getTransitionCount (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: StateMachine_isValidTransition_GameState_GameState (implicit=0)
Generated files:
  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.h
  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp
FileOriginTracker configured with user header paths
Translation unit has 209 top-level declarations
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp
  Rel:    main.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c
{"event":"create_CTU","ctu":"0x139842658","ctuAsDeclContext":"0x139842680","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x139842658 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c
[PathMapper] Mapped /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp -> /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c
[PathMapper] C_TU @ 0x139842658 for target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
Scoped enum translation support initialized (Phase 47)
ArithmeticOperatorTranslator initialized (Phase 50)
Arithmetic operator overloading support initialized (Phase 50)
ComparisonOperatorTranslator initialized (Phase 51)
Comparison & logical operator overloading support initialized (Phase 51)
SpecialOperatorTranslator initialized (Phase 52)
Special operator overloading support initialized (Phase 52)
Type alias and typedef support initialized (Phase 53)
Translating enum: GameState
  -> DEDUPLICATION: Enum GameState already exists, skipping creation and C_TU addition
    Mapped: Menu (C++) -> GameState__Menu (C) from existing enum
    Mapped: Playing (C++) -> GameState__Playing (C) from existing enum
    Mapped: Paused (C++) -> GameState__Paused (C) from existing enum
    Mapped: GameOver (C++) -> GameState__GameOver (C) from existing enum
[DEBUG] VisitCXXRecordDecl called for: StateMachine
Translating class: StateMachine
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/StateMachine.h
  Rel:    include/StateMachine.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
  -> Struct origin: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/StateMachine.h -> target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
  -> DEDUPLICATION: Struct StateMachine already exists, reusing and adding to this file's C_TU
  Generating implicit copy constructor
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/StateMachine.h
  Rel:    include/StateMachine.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/include/StateMachine.h
  Generated copy constructor: StateMachine__ctor_copy
[DEBUG] VisitCXXMethodDecl called for: StateMachine::StateMachine
Found variable: initialState
[DEBUG] VisitCXXMethodDecl called for: StateMachine::transition
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: newState
[DEBUG] VisitCXXMethodDecl called for: StateMachine::getCurrentState
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: StateMachine::getTransitionCount
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: StateMachine::isValidTransition
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: from
Found variable: to
[DEBUG] VisitCXXRecordDecl called for: 
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: __darwin_pthread_handler_rec
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_attr_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_cond_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_condattr_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_mutex_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_mutexattr_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_once_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_rwlock_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_rwlockattr_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: __sbuf
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: __sFILEX
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: __sFILE
[DEBUG]   -> Skipped: shouldTranspile returned false
Analyzing function for RAII: stateToString
  Found 0 local variables
Translating standalone function: stateToString
  Mangled name: stateToString
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: SwitchStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: CaseStmt
  Translating scoped enum ref: Menu -> GameState__Menu
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: StringLiteral
[DEBUG Bug#26] No constructor expression detected after unwrapping
[DEBUG Bug#26] translateStmt called, type: CaseStmt
  Translating scoped enum ref: Playing -> GameState__Playing
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: StringLiteral
[DEBUG Bug#26] No constructor expression detected after unwrapping
[DEBUG Bug#26] translateStmt called, type: CaseStmt
  Translating scoped enum ref: Paused -> GameState__Paused
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: StringLiteral
[DEBUG Bug#26] No constructor expression detected after unwrapping
[DEBUG Bug#26] translateStmt called, type: CaseStmt
  Translating scoped enum ref: GameOver -> GameState__GameOver
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: StringLiteral
[DEBUG Bug#26] No constructor expression detected after unwrapping
[DEBUG Bug#26] translateStmt called, type: DefaultStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: StringLiteral
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp
  Rel:    main.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c
  -> C function 'stateToString' created
  Parameters: 1
  Return type: const char *
Found variable: state
Analyzing function for RAII: main
  Found 2 local variables
Translating standalone function: main
  Mangled name: main
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: sm
      Is a struct/class type
      Is a C++ class: StateMachine
      Found C struct: StateMachine
      Creating C variable declaration
      Has constructor expression
      [DEBUG] Looking for constructor in SHARED map (size: 2)
      [DEBUG] Looking for key: StateMachine__ctor_1
      Found C constructor: StateMachine__ctor_1
      Creating constructor call
  Translating scoped enum ref: Menu -> GameState__Menu
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating scoped enum ref: Playing -> GameState__Playing
  Translating scoped enum ref: Playing -> GameState__Playing
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating scoped enum ref: Paused -> GameState__Paused
  Translating scoped enum ref: Paused -> GameState__Paused
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating scoped enum ref: Playing -> GameState__Playing
  Translating scoped enum ref: Playing -> GameState__Playing
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating scoped enum ref: GameOver -> GameState__GameOver
  Translating scoped enum ref: GameOver -> GameState__GameOver
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating scoped enum ref: Playing -> GameState__Playing
  Translating scoped enum ref: Playing -> GameState__Playing
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating scoped enum ref: Menu -> GameState__Menu
  Translating scoped enum ref: Menu -> GameState__Menu
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: passed
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating scoped enum ref: Menu -> GameState__Menu
  Translating scoped enum ref: Menu -> GameState__Menu
  Translating scoped enum ref: Menu -> GameState__Menu
  Translating scoped enum ref: Menu -> GameState__Menu
  Translating scoped enum ref: Menu -> GameState__Menu
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: CallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ConditionalOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: StringLiteral
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ConditionalOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp
  Rel:    main.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c
  -> C function 'main' created
  Parameters: 0
  Return type: int
Found variable: sm
Found variable: passed
[DEBUG AFTER TRAVERSAL] C_TU @ 0x139842658 has 2 declarations after traversal
  [AFTER TRAVERSAL] FunctionDecl: stateToString
  [AFTER TRAVERSAL] FunctionDecl: main

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 2 generated declarations
[DEBUG] getUserHeaderFiles() returned 2 headers
[DEBUG]   - /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/GameState.h
[DEBUG]   - /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/include/StateMachine.h
{"event":"iterate_HEADER_START","ctu":"0x139842658","ctuAsDeclContext":"0x139842680","declCount":2,"file":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp"}
[DEBUG] Starting header emission - C_TU @ 0x139842658 has 2 total declarations
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"stateToString","declPtr":"0x139842ce0","isImplicit":false,"declContext":"0x139842680"}
[DEBUG-HEADER] Processing FunctionDecl: stateToString @ 0x139842ce0 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"main","declPtr":"0x120016fb8","isImplicit":false,"declContext":"0x139842680"}
[DEBUG-HEADER] Processing FunctionDecl: main @ 0x120016fb8 (implicit=0)
[DEBUG] Starting implementation emission - C_TU @ 0x139842658 has 2 total declarations
[DEBUG-IMPL] Processing FunctionDecl: stateToString (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: main (implicit=0)
Generated files:
  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.h
  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c
[DEBUG] Tool.run() returned: 0
[DEBUG] After Tool.run(), about to handle dependencies...

Transpilation completed successfully. Generated 2 file pair(s).
[DEBUG FileOutputManager] writeFile called with filename: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.h
[DEBUG FileOutputManager] Content size: 707 bytes
[DEBUG FileOutputManager] Parent directory: "/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src"
[DEBUG FileOutputManager] Parent directory empty: no
[DEBUG FileOutputManager] Parent directory exists: no
[DEBUG FileOutputManager] Creating parent directory: "/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src"
[DEBUG FileOutputManager] Parent directory created successfully
[DEBUG FileOutputManager] Opening file for writing: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.h
[DEBUG FileOutputManager] File opened successfully
[DEBUG FileOutputManager] Content written successfully
[DEBUG FileOutputManager] File closed successfully
[DEBUG FileOutputManager] writeFile returning true
[DEBUG FileOutputManager] writeFile called with filename: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[DEBUG FileOutputManager] Content size: 1303 bytes
[DEBUG FileOutputManager] Parent directory: "/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src"
[DEBUG FileOutputManager] Parent directory empty: no
[DEBUG FileOutputManager] Parent directory exists: yes
[DEBUG FileOutputManager] Opening file for writing: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/src/StateMachine.c
[DEBUG FileOutputManager] File opened successfully
[DEBUG FileOutputManager] Content written successfully
[DEBUG FileOutputManager] File closed successfully
[DEBUG FileOutputManager] writeFile returning true
[DEBUG FileOutputManager] writeFile called with filename: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.h
[DEBUG FileOutputManager] Content size: 363 bytes
[DEBUG FileOutputManager] Parent directory: "/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled"
[DEBUG FileOutputManager] Parent directory empty: no
[DEBUG FileOutputManager] Parent directory exists: yes
[DEBUG FileOutputManager] Opening file for writing: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.h
[DEBUG FileOutputManager] File opened successfully
[DEBUG FileOutputManager] Content written successfully
[DEBUG FileOutputManager] File closed successfully
[DEBUG FileOutputManager] writeFile returning true
[DEBUG FileOutputManager] writeFile called with filename: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c
[DEBUG FileOutputManager] Content size: 1939 bytes
[DEBUG FileOutputManager] Parent directory: "/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled"
[DEBUG FileOutputManager] Parent directory empty: no
[DEBUG FileOutputManager] Parent directory exists: yes
[DEBUG FileOutputManager] Opening file for writing: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/transpiled/main.c
[DEBUG FileOutputManager] File opened successfully
[DEBUG FileOutputManager] Content written successfully
[DEBUG FileOutputManager] File closed successfully
[DEBUG FileOutputManager] writeFile returning true
    âœ“ Transpilation successful
  [4/5] Building transpiled C version...
In file included from ./main.c:4:
In file included from ./main.h:13:
./src/StateMachine.h:14:34: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   14 | void StateMachine__ctor_1(struct StateMachine * this, int initialState);
      |                                  ^
./src/StateMachine.h:15:54: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   15 | extern void StateMachine_transition_GameState(struct StateMachine * this, int newState);
      |                                                      ^
./src/StateMachine.h:16:48: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   16 | extern int StateMachine_getCurrentState(struct StateMachine * this);
      |                                                ^
./src/StateMachine.h:17:51: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   17 | extern int StateMachine_getTransitionCount(struct StateMachine * this);
      |                                                   ^
./src/StateMachine.h:18:71: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   18 | extern bool StateMachine_isValidTransition_GameState_GameState(struct StateMachine * this, int from, int to);
      |                                                                       ^
./main.c:8:8: error: use of undeclared identifier 'GameState__Menu'
    8 |                 case GameState__Menu:
      |                      ^
./main.c:11:8: error: use of undeclared identifier 'GameState__Playing'
   11 |                 case GameState__Playing:
      |                      ^
./main.c:14:8: error: use of undeclared identifier 'GameState__Paused'
   14 |                 case GameState__Paused:
      |                      ^
./main.c:17:8: error: use of undeclared identifier 'GameState__GameOver'
   17 |                 case GameState__GameOver:
      |                      ^
./main.c:28:22: error: variable has incomplete type 'struct StateMachine'
   28 |         struct StateMachine sm;
      |                             ^
./main.c:28:9: note: forward declaration of 'struct StateMachine'
   28 |         struct StateMachine sm;
      |                ^
./main.c:29:28: error: use of undeclared identifier 'GameState__Menu'
   29 |         StateMachine__ctor_1(&sm, GameState__Menu);
      |                                   ^
./main.c:32:41: error: use of undeclared identifier 'GameState__Playing'
   32 |         StateMachine_transition_GameState(&sm, GameState__Playing);
      |                                                ^
./main.c:34:41: error: use of undeclared identifier 'GameState__Paused'
   34 |         StateMachine_transition_GameState(&sm, GameState__Paused);
      |                                                ^
./main.c:36:41: error: use of undeclared identifier 'GameState__Playing'
   36 |         StateMachine_transition_GameState(&sm, GameState__Playing);
      |                                                ^
./main.c:38:41: error: use of undeclared identifier 'GameState__GameOver'
   38 |         StateMachine_transition_GameState(&sm, GameState__GameOver);
      |                                                ^
./main.c:40:41: error: use of undeclared identifier 'GameState__Playing'
   40 |         StateMachine_transition_GameState(&sm, GameState__Playing);
      |                                                ^
./main.c:42:41: error: use of undeclared identifier 'GameState__Menu'
   42 |         StateMachine_transition_GameState(&sm, GameState__Menu);
      |                                                ^
./main.c:46:59: error: use of undeclared identifier 'GameState__Menu'
   46 |         passed = passed && (StateMachine_getCurrentState(&sm) == GameState__Menu);
      |                                                                  ^
5 warnings and 13 errors generated.
In file included from ./src/StateMachine.c:4:
./src/StateMachine.h:14:34: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   14 | void StateMachine__ctor_1(struct StateMachine * this, int initialState);
      |                                  ^
./src/StateMachine.h:15:54: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   15 | extern void StateMachine_transition_GameState(struct StateMachine * this, int newState);
      |                                                      ^
./src/StateMachine.h:16:48: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   16 | extern int StateMachine_getCurrentState(struct StateMachine * this);
      |                                                ^
./src/StateMachine.h:17:51: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   17 | extern int StateMachine_getTransitionCount(struct StateMachine * this);
      |                                                   ^
./src/StateMachine.h:18:71: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   18 | extern bool StateMachine_isValidTransition_GameState_GameState(struct StateMachine * this, int from, int to);
      |                                                                       ^
./src/StateMachine.c:6:34: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
    6 | void StateMachine__ctor_1(struct StateMachine * this, int initialState) {
      |                                  ^
./src/StateMachine.c:6:6: error: conflicting types for 'StateMachine__ctor_1'
    6 | void StateMachine__ctor_1(struct StateMachine * this, int initialState) {
      |      ^
./src/StateMachine.h:14:6: note: previous declaration is here
   14 | void StateMachine__ctor_1(struct StateMachine * this, int initialState);
      |      ^
./src/StateMachine.c:7:6: error: incomplete definition of type 'struct StateMachine'
    7 |         this->currentState = initialState;
      |         ~~~~^
./src/StateMachine.c:6:34: note: forward declaration of 'struct StateMachine'
    6 | void StateMachine__ctor_1(struct StateMachine * this, int initialState) {
      |                                  ^
./src/StateMachine.c:8:6: error: incomplete definition of type 'struct StateMachine'
    8 |         this->transitionCount = 0;
      |         ~~~~^
./src/StateMachine.c:6:34: note: forward declaration of 'struct StateMachine'
    6 | void StateMachine__ctor_1(struct StateMachine * this, int initialState) {
      |                                  ^
./src/StateMachine.c:11:54: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   11 | extern void StateMachine_transition_GameState(struct StateMachine * this, int newState) {
      |                                                      ^
./src/StateMachine.c:11:13: error: conflicting types for 'StateMachine_transition_GameState'
   11 | extern void StateMachine_transition_GameState(struct StateMachine * this, int newState) {
      |             ^
./src/StateMachine.h:15:13: note: previous declaration is here
   15 | extern void StateMachine_transition_GameState(struct StateMachine * this, int newState);
      |             ^
./src/StateMachine.c:12:67: error: incomplete definition of type 'struct StateMachine'
   12 |         if (StateMachine_isValidTransition_GameState_GameState(this, this->currentState, newState))     {
      |                                                                      ~~~~^
./src/StateMachine.c:11:54: note: forward declaration of 'struct StateMachine'
   11 | extern void StateMachine_transition_GameState(struct StateMachine * this, int newState) {
      |                                                      ^
./src/StateMachine.c:13:7: error: incomplete definition of type 'struct StateMachine'
   13 |                 this->currentState = newState;
      |                 ~~~~^
./src/StateMachine.c:11:54: note: forward declaration of 'struct StateMachine'
   11 | extern void StateMachine_transition_GameState(struct StateMachine * this, int newState) {
      |                                                      ^
./src/StateMachine.c:14:7: error: incomplete definition of type 'struct StateMachine'
   14 |                 this->transitionCount++;
      |                 ~~~~^
./src/StateMachine.c:11:54: note: forward declaration of 'struct StateMachine'
   11 | extern void StateMachine_transition_GameState(struct StateMachine * this, int newState) {
      |                                                      ^
./src/StateMachine.c:19:48: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   19 | extern int StateMachine_getCurrentState(struct StateMachine * this) {
      |                                                ^
./src/StateMachine.c:19:12: error: conflicting types for 'StateMachine_getCurrentState'
   19 | extern int StateMachine_getCurrentState(struct StateMachine * this) {
      |            ^
./src/StateMachine.h:16:12: note: previous declaration is here
   16 | extern int StateMachine_getCurrentState(struct StateMachine * this);
      |            ^
./src/StateMachine.c:20:13: error: incomplete definition of type 'struct StateMachine'
   20 |         return this->currentState;
      |                ~~~~^
./src/StateMachine.c:19:48: note: forward declaration of 'struct StateMachine'
   19 | extern int StateMachine_getCurrentState(struct StateMachine * this) {
      |                                                ^
./src/StateMachine.c:24:51: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   24 | extern int StateMachine_getTransitionCount(struct StateMachine * this) {
      |                                                   ^
./src/StateMachine.c:24:12: error: conflicting types for 'StateMachine_getTransitionCount'
   24 | extern int StateMachine_getTransitionCount(struct StateMachine * this) {
      |            ^
./src/StateMachine.h:17:12: note: previous declaration is here
   17 | extern int StateMachine_getTransitionCount(struct StateMachine * this);
      |            ^
./src/StateMachine.c:25:13: error: incomplete definition of type 'struct StateMachine'
   25 |         return this->transitionCount;
      |                ~~~~^
./src/StateMachine.c:24:51: note: forward declaration of 'struct StateMachine'
   24 | extern int StateMachine_getTransitionCount(struct StateMachine * this) {
      |                                                   ^
./src/StateMachine.c:29:71: warning: declaration of 'struct StateMachine' will not be visible outside of this function [-Wvisibility]
   29 | extern bool StateMachine_isValidTransition_GameState_GameState(struct StateMachine * this, int from, int to) {
      |                                                                       ^
./src/StateMachine.c:29:13: error: conflicting types for 'StateMachine_isValidTransition_GameState_GameState'
   29 | extern bool StateMachine_isValidTransition_GameState_GameState(struct StateMachine * this, int from, int to) {
      |             ^
./src/StateMachine.h:18:13: note: previous declaration is here
   18 | extern bool StateMachine_isValidTransition_GameState_GameState(struct StateMachine * this, int from, int to);
      |             ^
./src/StateMachine.c:31:8: error: use of undeclared identifier 'GameState__Menu'
   31 |                 case GameState__Menu:
      |                      ^
./src/StateMachine.c:32:17: error: use of undeclared identifier 'GameState__Playing'
   32 |                         return to == GameState__Playing;
      |                                      ^
./src/StateMachine.c:34:8: error: use of undeclared identifier 'GameState__Playing'
   34 |                 case GameState__Playing:
      |                      ^
./src/StateMachine.c:35:17: error: use of undeclared identifier 'GameState__Paused'
   35 |                         return to == GameState__Paused || to == GameState__GameOver;
      |                                      ^
./src/StateMachine.c:35:44: error: use of undeclared identifier 'GameState__GameOver'
   35 |                         return to == GameState__Paused || to == GameState__GameOver;
      |                                                                 ^
./src/StateMachine.c:37:8: error: use of undeclared identifier 'GameState__Paused'
   37 |                 case GameState__Paused:
      |                      ^
./src/StateMachine.c:38:17: error: use of undeclared identifier 'GameState__Playing'
   38 |                         return to == GameState__Playing || to == GameState__Menu || to == GameState__GameOver;
      |                                      ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
10 warnings and 20 errors generated.
    [0;31mâœ— C build failed[0m
[0;31mâŒ FAIL: State Machine[0m

[1;33mTesting Simple Parser...[0m
  [1/5] Building C++ version...
-- Configuring done (0.1s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/build
[100%] Built target simple_parser
    âœ“ C++ build successful
  [2/5] Running C++ version...
Expression Evaluator Tests:
  2 + 3 = 5
  10 - 4 = 6
  2 * 3 + 4 = 10
  20 / 4 = 5
  2 + 3 * 4 = 14

Validation: PASS
    âœ“ C++ execution successful (exit code: 0)
  [3/5] Transpiling to C...
    [Config] Using project-specific args
Error while trying to load a compilation database:
Could not auto-detect compilation database for file "__dummy_for_discovery__.cpp"
No compilation database found in /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser or any parent directory
fixed-compilation-database: Error while opening fixed database: No such file or directory
json-compilation-database: Error while opening JSON database: No such file or directory
Running without flags.
[DEBUG] Installing segfault handler...
[DEBUG] Signal handlers installed
Auto-discovering C++ source files in: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser
Discovered 3 file(s) for transpilation
[DEBUG] About to call Tool.run()...
[1/3] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp.
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp
FileOriginTracker configured with user header paths
Translation unit has 208 top-level declarations
[Bug #30 FIX] Creating independent target ASTContext for C output...
[Bug #30 FIX] Target ASTContext created successfully:
  - ASTContext @ 0x11e835400
  - Target Triple: arm64-apple-darwin24.5.0
  - Language: C11
[PathMapper] Initialized:
  - Source dir: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser
  - Output dir: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp
  Rel:    src/Tokenizer.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
{"event":"create_CTU","ctu":"0x11e83f768","ctuAsDeclContext":"0x11e83f790","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x11e83f768 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
[PathMapper] Mapped /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp -> /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
[PathMapper] C_TU @ 0x11e83f768 for target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
Scoped enum translation support initialized (Phase 47)
ArithmeticOperatorTranslator initialized (Phase 50)
Arithmetic operator overloading support initialized (Phase 50)
ComparisonOperatorTranslator initialized (Phase 51)
Comparison & logical operator overloading support initialized (Phase 51)
SpecialOperatorTranslator initialized (Phase 52)
Special operator overloading support initialized (Phase 52)
Type alias and typedef support initialized (Phase 53)
Translating enum: TokenType
  -> NEW ENUM: Creating and registering TokenType
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Token.h
  Rel:    include/Token.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
{"event":"create_CTU","ctu":"0x11e83fed8","ctuAsDeclContext":"0x11e83ff00","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x11e83fed8 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
  -> Recorded enum TokenType with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
  -> enum TokenType added to C_TU (will be declared in this file's header)
    Mapped: Number (C++) -> TokenType__Number (C)
    Mapped: Plus (C++) -> TokenType__Plus (C)
    Mapped: Minus (C++) -> TokenType__Minus (C)
    Mapped: Multiply (C++) -> TokenType__Multiply (C)
    Mapped: Divide (C++) -> TokenType__Divide (C)
    Mapped: EndOfInput (C++) -> TokenType__EndOfInput (C)
  -> C enum TokenType created via EnumTranslator and added to C_TU
[DEBUG] VisitCXXRecordDecl called for: Token
Translating class: Token
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Token.h
  Rel:    include/Token.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
  -> Struct origin: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Token.h -> target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
  -> NEW STRUCT: Creating and registering Token
  -> Recorded struct Token with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
  -> struct Token with 2 fields added to C_TU @ /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
  Generating implicit copy constructor
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Token.h
  Rel:    include/Token.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
  Generated copy constructor: Token__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 0 method declarations

// Static declarations for all Token methods
static void Token__ctor_2(struct Token *this, TokenType t, int v);

[DEBUG] VisitCXXMethodDecl called for: Token::Token
Translating constructor: Token::Token
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Token.h
  Rel:    include/Token.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
  [DEBUG] Added constructor to SHARED map: Token__ctor_2 (key: Token__ctor_2, map size now: 2)
{"event":"addDecl_CTOR","funcName":"Token__ctor_2","funcDecl":"0x11e840738","targetCTU":"0x11e83fed8","declContext":"0x11e83ff00","ctxAsDeclContext":"0x11e83ff00","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Token.h","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h"}
  -> [DEBUG addDecl CTOR] Added Token__ctor_2 (FuncDecl @ 0x11e840738) to C_TU @ 0x11e83fed8 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h) [HAS BODY] [DeclContext @ 0x11e83ff00]
  -> Token__ctor_2 with 3 parameters, 2 statements
Found variable: t
Found variable: v
[DEBUG] VisitCXXRecordDecl called for: Tokenizer
Translating class: Tokenizer
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Tokenizer.h
  Rel:    include/Tokenizer.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Tokenizer.h
{"event":"create_CTU","ctu":"0x11e840910","ctuAsDeclContext":"0x11e840938","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Tokenizer.h"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x11e840910 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Tokenizer.h
  -> Struct origin: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Tokenizer.h -> target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Tokenizer.h
  -> NEW STRUCT: Creating and registering Tokenizer
  -> Recorded struct Tokenizer with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Tokenizer.h
  -> struct Tokenizer with 2 fields added to C_TU @ /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Tokenizer.h
  Generating implicit copy constructor
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Tokenizer.h
  Rel:    include/Tokenizer.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Tokenizer.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Tokenizer.h
  Generated copy constructor: Tokenizer__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 4 method declarations

// Static declarations for all Tokenizer methods
static void Tokenizer__ctor_1(struct Tokenizer *this, const int * input);
static void Tokenizer_skipWhitespace(struct Tokenizer *this);
static int Tokenizer_parseNumber(struct Tokenizer *this);
static struct Token Tokenizer_nextToken(struct Tokenizer *this);
static int Tokenizer_hasMore(const struct Tokenizer *this);

[DEBUG] VisitCXXMethodDecl called for: Tokenizer::skipWhitespace
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: Tokenizer::parseNumber
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: Tokenizer::Tokenizer
Found variable: input
[DEBUG] VisitCXXMethodDecl called for: Tokenizer::nextToken
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: Tokenizer::hasMore
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXRecordDecl called for: 
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: __darwin_pthread_handler_rec
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_attr_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_cond_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_condattr_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_mutex_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_mutexattr_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_once_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_rwlock_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_rwlockattr_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: _opaque_pthread_t
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: 
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: 
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: 
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXRecordDecl called for: 
[DEBUG]   -> Skipped: shouldTranspile returned false
[DEBUG] VisitCXXMethodDecl called for: Tokenizer::Tokenizer
Translating constructor: Tokenizer::Tokenizer
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp
  Rel:    src/Tokenizer.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
  [DEBUG] Added constructor to SHARED map: Tokenizer__ctor_1 (key: Tokenizer__ctor_1, map size now: 4)
{"event":"addDecl_CTOR","funcName":"Tokenizer__ctor_1","funcDecl":"0x11e841928","targetCTU":"0x11e83f768","declContext":"0x11e83f790","ctxAsDeclContext":"0x11e83f790","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c"}
  -> [DEBUG addDecl CTOR] Added Tokenizer__ctor_1 (FuncDecl @ 0x11e841928) to C_TU @ 0x11e83f768 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c) [HAS BODY] [DeclContext @ 0x11e83f790]
  -> Tokenizer__ctor_1 with 2 parameters, 2 statements
Found variable: input
[DEBUG] VisitCXXMethodDecl called for: Tokenizer::skipWhitespace
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Tokenizer::skipWhitespace
  -> [DEBUG funcName] Generated name for skipWhitespace: Tokenizer_skipWhitespace
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp
  Rel:    src/Tokenizer.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Tokenizer_skipWhitespace with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: WhileStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: UnaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Tokenizer_skipWhitespace with body translated
{"event":"addDecl_METHOD","funcName":"Tokenizer_skipWhitespace","funcDecl":"0x11e841ca0","targetCTU":"0x11e83f768","declContext":"0x11e83f790","ctxAsDeclContext":"0x11e83f790","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c"}
  -> [DEBUG addDecl] Added Tokenizer_skipWhitespace (FuncDecl @ 0x11e841ca0) to C_TU @ 0x11e83f768 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c) [HAS BODY] [DeclContext @ 0x11e83f790]
  -> Tokenizer_skipWhitespace with 1 parameters
[DEBUG] VisitCXXMethodDecl called for: Tokenizer::parseNumber
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Tokenizer::parseNumber
  -> [DEBUG funcName] Generated name for parseNumber: Tokenizer_parseNumber
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp
  Rel:    src/Tokenizer.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Tokenizer_parseNumber with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: value
[DEBUG Bug#26] translateStmt called, type: WhileStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: CharacterLiteral
[DEBUG Bug#26] translateStmt called, type: UnaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: DeclRefExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Tokenizer_parseNumber with body translated
{"event":"addDecl_METHOD","funcName":"Tokenizer_parseNumber","funcDecl":"0x11e842098","targetCTU":"0x11e83f768","declContext":"0x11e83f790","ctxAsDeclContext":"0x11e83f790","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c"}
  -> [DEBUG addDecl] Added Tokenizer_parseNumber (FuncDecl @ 0x11e842098) to C_TU @ 0x11e83f768 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c) [HAS BODY] [DeclContext @ 0x11e83f790]
  -> Tokenizer_parseNumber with 1 parameters
Found variable: value
[DEBUG] VisitCXXMethodDecl called for: Tokenizer::nextToken
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Tokenizer::nextToken
  -> [DEBUG funcName] Generated name for nextToken: Tokenizer_nextToken
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp
  Rel:    src/Tokenizer.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Tokenizer_nextToken with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IfStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in targetCtx.getCtorMap() (size: 4)
[DEBUG Bug#26] Found in targetCtx.getCtorMap()! C function: Token__ctor_2
  Translating scoped enum ref: EndOfInput -> TokenType__EndOfInput
[DEBUG Bug#26] Returning compound statement with 3 statements
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: IfStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: value
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXTemporaryObjectExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in targetCtx.getCtorMap() (size: 4)
[DEBUG Bug#26] Found in targetCtx.getCtorMap()! C function: Token__ctor_2
  Translating scoped enum ref: Number -> TokenType__Number
[DEBUG Bug#26] Returning compound statement with 3 statements
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: current
[DEBUG Bug#26] translateStmt called, type: SwitchStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in targetCtx.getCtorMap() (size: 4)
[DEBUG Bug#26] Found in targetCtx.getCtorMap()! C function: Token__ctor_2
  Translating scoped enum ref: Plus -> TokenType__Plus
[DEBUG Bug#26] Returning compound statement with 3 statements
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in targetCtx.getCtorMap() (size: 4)
[DEBUG Bug#26] Found in targetCtx.getCtorMap()! C function: Token__ctor_2
  Translating scoped enum ref: Minus -> TokenType__Minus
[DEBUG Bug#26] Returning compound statement with 3 statements
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in targetCtx.getCtorMap() (size: 4)
[DEBUG Bug#26] Found in targetCtx.getCtorMap()! C function: Token__ctor_2
  Translating scoped enum ref: Multiply -> TokenType__Multiply
[DEBUG Bug#26] Returning compound statement with 3 statements
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in targetCtx.getCtorMap() (size: 4)
[DEBUG Bug#26] Found in targetCtx.getCtorMap()! C function: Token__ctor_2
  Translating scoped enum ref: Divide -> TokenType__Divide
[DEBUG Bug#26] Returning compound statement with 3 statements
[DEBUG Bug#26] translateStmt called, type: DefaultStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in targetCtx.getCtorMap() (size: 4)
[DEBUG Bug#26] Found in targetCtx.getCtorMap()! C function: Token__ctor_2
  Translating scoped enum ref: EndOfInput -> TokenType__EndOfInput
[DEBUG Bug#26] Returning compound statement with 3 statements
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Tokenizer_nextToken with body translated
{"event":"addDecl_METHOD","funcName":"Tokenizer_nextToken","funcDecl":"0x109019210","targetCTU":"0x11e83f768","declContext":"0x11e83f790","ctxAsDeclContext":"0x11e83f790","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c"}
  -> [DEBUG addDecl] Added Tokenizer_nextToken (FuncDecl @ 0x109019210) to C_TU @ 0x11e83f768 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c) [HAS BODY] [DeclContext @ 0x11e83f790]
  -> Tokenizer_nextToken with 1 parameters
Found variable: value
Found variable: current
[DEBUG] VisitCXXMethodDecl called for: Tokenizer::hasMore
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Tokenizer::hasMore
  -> [DEBUG funcName] Generated name for hasMore: Tokenizer_hasMore
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp
  Rel:    src/Tokenizer.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Tokenizer_hasMore with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: pos
[DEBUG Bug#26] translateStmt called, type: WhileStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: UnaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: BinaryOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Tokenizer_hasMore with body translated
{"event":"addDecl_METHOD","funcName":"Tokenizer_hasMore","funcDecl":"0x10901a3e0","targetCTU":"0x11e83f768","declContext":"0x11e83f790","ctxAsDeclContext":"0x11e83f790","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c"}
  -> [DEBUG addDecl] Added Tokenizer_hasMore (FuncDecl @ 0x10901a3e0) to C_TU @ 0x11e83f768 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c) [HAS BODY] [DeclContext @ 0x11e83f790]
  -> Tokenizer_hasMore with 1 parameters
Found variable: pos
[DEBUG AFTER TRAVERSAL] C_TU @ 0x11e83f768 has 5 declarations after traversal
  [AFTER TRAVERSAL] FunctionDecl: Tokenizer__ctor_1
  [AFTER TRAVERSAL] FunctionDecl: Tokenizer_skipWhitespace
  [AFTER TRAVERSAL] FunctionDecl: Tokenizer_parseNumber
  [AFTER TRAVERSAL] FunctionDecl: Tokenizer_nextToken
  [AFTER TRAVERSAL] FunctionDecl: Tokenizer_hasMore

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 5 generated declarations
[DEBUG] getUserHeaderFiles() returned 2 headers
[DEBUG]   [2/3] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/ExpressionEvaluator.cpp.
- /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Token.h
[DEBUG]   - /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Tokenizer.h
[DEBUG] Skipping self-include: src/Tokenizer.h (matches current file: Tokenizer)
{"event":"iterate_HEADER_START","ctu":"0x11e83f768","ctuAsDeclContext":"0x11e83f790","declCount":5,"file":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp"}
[DEBUG] Starting header emission - C_TU @ 0x11e83f768 has 5 total declarations
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Tokenizer__ctor_1","declPtr":"0x11e841928","isImplicit":false,"declContext":"0x11e83f790"}
[DEBUG-HEADER] Processing FunctionDecl: Tokenizer__ctor_1 @ 0x11e841928 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Tokenizer_skipWhitespace","declPtr":"0x11e841ca0","isImplicit":false,"declContext":"0x11e83f790"}
[DEBUG-HEADER] Processing FunctionDecl: Tokenizer_skipWhitespace @ 0x11e841ca0 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Tokenizer_parseNumber","declPtr":"0x11e842098","isImplicit":false,"declContext":"0x11e83f790"}
[DEBUG-HEADER] Processing FunctionDecl: Tokenizer_parseNumber @ 0x11e842098 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Tokenizer_nextToken","declPtr":"0x109019210","isImplicit":false,"declContext":"0x11e83f790"}
[DEBUG-HEADER] Processing FunctionDecl: Tokenizer_nextToken @ 0x109019210 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Tokenizer_hasMore","declPtr":"0x10901a3e0","isImplicit":false,"declContext":"0x11e83f790"}
[DEBUG-HEADER] Processing FunctionDecl: Tokenizer_hasMore @ 0x10901a3e0 (implicit=0)
[DEBUG] Starting implementation emission - C_TU @ 0x11e83f768 has 5 total declarations
[DEBUG-IMPL] Processing FunctionDecl: Tokenizer__ctor_1 (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Tokenizer_skipWhitespace (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Tokenizer_parseNumber (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Tokenizer_nextToken (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Tokenizer_hasMore (implicit=0)
Generated files:
  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.h
  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/Tokenizer.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/ExpressionEvaluator.cpp
FileOriginTracker configured with user header paths
Translation unit has 113 top-level declarations
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/ExpressionEvaluator.cpp
  Rel:    src/ExpressionEvaluator.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/ExpressionEvaluator.c
{"event":"create_CTU","ctu":"0x10901a6c0","ctuAsDeclContext":"0x10901a6e8","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/ExpressionEvaluator.c"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x10901a6c0 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/ExpressionEvaluator.c
[PathMapper] Mapped /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/ExpressionEvaluator.cpp -> /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/ExpressionEvaluator.c
[PathMapper] C_TU @ 0x10901a6c0 for target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/src/ExpressionEvaluator.c
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
Scoped enum translation support initialized (Phase 47)
ArithmeticOperatorTranslator initialized (Phase 50)
Arithmetic operator overloading support initialized (Phase 50)
ComparisonOperatorTranslator initialized (Phase 51)
Comparison & logical operator overloading support initialized (Phase 51)
SpecialOperatorTranslator initialized (Phase 52)
Special operator overloading support initialized (Phase 52)
Type alias and typedef support initialized (Phase 53)
Translating enum: TokenType
  -> DEDUPLICATION: Enum TokenType already exists, skipping creation and C_TU addition
    Mapped: Number (C++) -> TokenType__Number (C) from existing enum
    Mapped: Plus (C++) -> TokenType__Plus (C) from existing enum
    Mapped: Minus (C++) -> TokenType__Minus (C) from existing enum
    Mapped: Multiply (C++) -> TokenType__Multiply (C) from existing enum
    Mapped: Divide (C++) -> TokenType__Divide (C) from existing enum
    Mapped: EndOfInput (C++) -> TokenType__EndOfInput (C) from existing enum
[DEBUG] VisitCXXRecordDecl called for: Token
Translating class: Token
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Token.h
  Rel:    include/Token.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
  -> Struct origin: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Token.h -> target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
  -> DEDUPLICATION: Struct Token already exists, reusing and adding to this file's C_TU
  Generating implicit copy constructor
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Token.h
  Rel:    include/Token.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Token.h
  Generated copy constructor: Token__ctor_copy
[DEBUG] VisitCXXMethodDecl called for: Token::Token
  -> Already translated, skipping redefinition of Token::Token
Found variable: t
Found variable: v
[DEBUG] VisitCXXRecordDecl called for: Tokenizer
Translating class: Tokenizer
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Tokenizer.h
  Rel:    include/Tokenizer.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Tokenizer.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/transpiled/include/Tokenizer.h
  -> Struct origin: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/include/Tokenize

!!! SEGFAULT CAUGHT (signal 11) !!!
Last operation before crash:
Backtrace:
0   cpptoc                              0x0000000102143c40 _ZL15segfaultHandleri + 120
1   libsystem_platform.dylib            0x000000019cb38624 _sigtramp + 56
2   cpptoc                              0x000000010308aedc _ZNK5clang10ASTContext18getASTRecordLayoutEPKNS_10RecordDeclE + 440
3   cpptoc                              0x0000000102a7c524 _ZNK5clang10ASTContext15getTypeInfoImplEPKNS_4TypeE + 10248
4   cpptoc                              0x0000000102a7ff6c _ZNK5clang10ASTContext18getTypeInfoInCharsEPKNS_4TypeE + 712
5   cpptoc                              0x00000001030a9cf8 _ZN12_GLOBAL__N_126ItaniumRecordLayoutBuilder11LayoutFieldEPKN5clang9FieldDeclEb + 5380
6   cpptoc                              0x0000000103095414 _ZNK5clang10ASTContext18getASTRecordLayoutEPKNS_10RecordDeclE + 42736
7   cpptoc                              0x0000000102bf12e0 _ZN5clang10RecordDecl18completeDefinitionEv + 148
8   cpptoc                              0x00000001022b2a98 _ZN5clang12CNodeBuilder10structDeclEN4llvm9StringRefENS1_8ArrayRefIPNS_9FieldDeclEEE + 392
9   cpptoc                              0x00000001022b072c _ZN13CppToCVisitor18VisitCXXRecordDeclEPN5clang13CXXRecordDeclE + 2288
10  cpptoc                              0x000000010228d818 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE23WalkUpFromCXXRecordDeclEPNS_13CXXRecordDeclE + 100
11  cpptoc                              0x000000010218a504 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE21TraverseCXXRecordDeclEPNS_13CXXRecordDeclE + 76
12  cpptoc                              0x0000000102170734 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 3168
13  cpptoc                              0x000000010221d43c _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseDeclContextHelperEPNS_11DeclContextE + 208
14  cpptoc                              0x00000001021818ac _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE27TraverseTranslationUnitDeclEPNS_19TranslationUnitDeclE + 448
15  cpptoc                              0x000000010216fc24 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 336
16  cpptoc                              0x000000010216cbc4 _ZN14CppToCConsumer21HandleTranslationUnitERN5clang10ASTContextE + 1196
17  cpptoc                              0x0000000103998f54 _ZN5clang8ParseASTERNS_4SemaEbb + 976
18  cpptoc                              0x00000001029dd608 _ZN5clang17ASTFrontendAction13ExecuteActionEv + 260
19  cpptoc                              0x00000001029dcef0 _ZN5clang14FrontendAction7ExecuteEv + 36
20  cpptoc                              0x00000001029176c0 _ZN5clang16CompilerInstance13ExecuteActionERNS_14FrontendActionE + 1392
21  cpptoc                              0x00000001028dd26c _ZN5clang7tooling21FrontendActionFactory13runInvocationENSt3__110shared_ptrINS_18CompilerInvocationEEEPNS_11FileManagerENS3_INS_22PCHContainerOperationsEEEPNS_18DiagnosticConsumerE + 364
22  cpptoc                              0x00000001028dd064 _ZN5clang7tooling14ToolInvocation13runInvocationEPKcPNS_6driver11CompilationENSt3__110shared_ptrINS_18CompilerInvocationEEENS8_INS_22PCHContainerOperationsEEE + 240
23  cpptoc                              0x00000001028db7e8 _ZN5clang7tooling14ToolInvocation3runEv + 2016
24  cpptoc                              0x00000001028df628 _ZN5clang7tooling9ClangTool3runEPNS0_10ToolActionE + 5464
25  cpptoc                              0x0000000102143540 main + 1676
26  dyld                                0x000000019c75eb98 start + 6076

!!! CRITICAL: Exiting due to segfault !!!
    [0;31mâœ— Transpilation failed[0m
[0;31mâŒ FAIL: Simple Parser[0m

[1;33mTesting Game Logic...[0m
  [1/5] Building C++ version...
-- Configuring done (0.1s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/build
[100%] Built target game_logic
    âœ“ C++ build successful
  [2/5] Running C++ version...
Game Logic Tests:
  Player: pos=(100.0, 100.0), health=100, score=0
  Enemy: pos=(150.0, 100.0), damage=10
  Initial collision: false
  After enemy moves to (110, 100): collision = true
  Player takes 10 damage
  Player health after damage: 90
  Player score after +100: 100
  Point (115, 115) inside player: true

Validation: PASS
    âœ“ C++ execution successful (exit code: 0)
  [3/5] Transpiling to C...
    [Config] Using project-specific args
Error while trying to load a compilation database:
Could not auto-detect compilation database for file "__dummy_for_discovery__.cpp"
No compilation database found in /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic or any parent directory
fixed-compilation-database: Error while opening fixed database: No such file or directory
json-compilation-database: Error while opening JSON database: No such file or directory
Running without flags.
[DEBUG] Installing segfault handler...
[DEBUG] Signal handlers installed
Auto-discovering C++ source files in: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic
Discovered 5 file(s) for transpilation
[DEBUG] About to call Tool.run()...
[1/5] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp.
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp
FileOriginTracker configured with user header paths
Translation unit has 112 top-level declarations
[Bug #30 FIX] Creating independent target ASTContext for C output...
[Bug #30 FIX] Target ASTContext created successfully:
  - ASTContext @ 0x12901fe00
  - Target Triple: arm64-apple-darwin24.5.0
  - Language: C11
[PathMapper] Initialized:
  - Source dir: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic
  - Output dir: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp
  Rel:    src/Player.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
{"event":"create_CTU","ctu":"0x12902a168","ctuAsDeclContext":"0x12902a190","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x12902a168 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
[PathMapper] Mapped /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp -> /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
[PathMapper] C_TU @ 0x12902a168 for target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
Scoped enum translation support initialized (Phase 47)
ArithmeticOperatorTranslator initialized (Phase 50)
Arithmetic operator overloading support initialized (Phase 50)
ComparisonOperatorTranslator initialized (Phase 51)
Comparison & logical operator overloading support initialized (Phase 51)
SpecialOperatorTranslator initialized (Phase 52)
Special operator overloading support initialized (Phase 52)
Type alias and typedef support initialized (Phase 53)
[DEBUG] VisitCXXRecordDecl called for: Entity
Translating class: Entity
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/include/Entity.h
  Rel:    include/Entity.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Entity.h
{"event":"create_CTU","ctu":"0x12902a208","ctuAsDeclContext":"0x12902a230","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Entity.h"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x12902a208 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Entity.h
  -> Struct origin: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/include/Entity.h -> target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Entity.h
  -> NEW STRUCT: Creating and registering Entity
  -> Recorded struct Entity with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Entity.h
  -> struct Entity with 5 fields added to C_TU @ /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Entity.h
  Generating implicit copy constructor
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/include/Entity.h
  Rel:    include/Entity.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Entity.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Entity.h
  Generated copy constructor: Entity__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 6 method declarations

// Static declarations for all Entity methods
static void Entity__ctor_4(struct Entity *this, float x, float y, float width, float height);
static void Entity__dtor(struct Entity *this);
static float Entity_getX(const struct Entity *this);
static float Entity_getY(const struct Entity *this);
static float Entity_getWidth(const struct Entity *this);
static float Entity_getHeight(const struct Entity *this);
static void Entity_setPosition_float_float(struct Entity *this, float newX, float newY);
static void Entity_update_float(struct Entity *this, float deltaTime);

Generating vtable for polymorphic class: Entity
Vtable struct generated:
struct Entity_vtable {
    const struct __class_type_info *type_info;  /**< RTTI type_info pointer (Itanium ABI vtable[-1]) */
    void (*destructor)(struct Entity *this);
    void (*update)(struct Entity *this, float deltaTime);
};

Vtable instance generated:

// Vtable instance for Entity
struct Entity_vtable Entity_vtable_instance = {
    .type_info = &Entity_type_info,  // RTTI type_info (placeholder)
    .destructor = Entity_destructor,
    .update = Entity_update,
};

[DEBUG] VisitCXXMethodDecl called for: Entity::Entity
Found variable: x
Found variable: y
Found variable: width
Found variable: height
[DEBUG] VisitCXXMethodDecl called for: Entity::~Entity
Translating destructor: ~Entity
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/include/Entity.h
  Rel:    include/Entity.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Entity.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Entity.h
  -> Entity__dtor with 0 statements
  -> Entity__dtor created and added to C_TU @ /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Entity.h
[DEBUG] VisitCXXMethodDecl called for: Entity::getX
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: Entity::getY
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: Entity::getWidth
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: Entity::getHeight
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: Entity::setPosition
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: newX
Found variable: newY
[DEBUG] VisitCXXMethodDecl called for: Entity::update
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: deltaTime
[DEBUG] VisitCXXRecordDecl called for: Player
Translating class: Player
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/include/Player.h
  Rel:    include/Player.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Player.h
{"event":"create_CTU","ctu":"0x12902ad70","ctuAsDeclContext":"0x12902ad98","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Player.h"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x12902ad70 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Player.h
  -> Struct origin: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/include/Player.h -> target: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Player.h
  -> NEW STRUCT: Creating and registering Player
  -> Recorded struct Player with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Player.h
  -> struct Player with 7 fields added to C_TU @ /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Player.h
  Generating implicit copy constructor
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/include/Player.h
  Rel:    include/Player.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Player.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Player.h
    TODO: Call base copy constructor: Entity__ctor_copy
  Generated copy constructor: Player__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 5 method declarations

// Static declarations for all Player methods
static void Player__ctor_2(struct Player *this, float x, float y);
static void Player__dtor(struct Player *this);
static int Player_getHealth(const struct Player *this);
static int Player_getScore(const struct Player *this);
static void Player_takeDamage_int(struct Player *this, int damage);
static void Player_addScore_int(struct Player *this, int points);
static void Player_update_float(struct Player *this, float deltaTime);

Generating vtable for polymorphic class: Player
Vtable struct generated:
struct Player_vtable {
    const struct __class_type_info *type_info;  /**< RTTI type_info pointer (Itanium ABI vtable[-1]) */
    void (*destructor)(struct Player *this);
    void (*update)(struct Player *this, float deltaTime);
};

Vtable instance generated:

// Vtable instance for Player
struct Player_vtable Player_vtable_instance = {
    .type_info = &Player_type_info,  // RTTI type_info (placeholder)
    .destructor = Player_destructor,
    .update = Player_update,
};

[DEBUG] VisitCXXMethodDecl called for: Player::Player
Found variable: x
Found variable: y
[DEBUG] VisitCXXMethodDecl called for: Player::~Player
Translating destructor: ~Player
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/include/Player.h
  Rel:    include/Player.h
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Player.h
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Player.h
  Emitting base destructor call for: Entity
  -> Added base destructor call to Entity__dtor
  -> Player__dtor with 1 statements
  -> Player__dtor created and added to C_TU @ /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/include/Player.h
[DEBUG] VisitCXXMethodDecl called for: Player::getHealth
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: Player::getScore
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
[DEBUG] VisitCXXMethodDecl called for: Player::takeDamage
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: damage
[DEBUG] VisitCXXMethodDecl called for: Player::addScore
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: points
[DEBUG] VisitCXXMethodDecl called for: Player::update
[DEBUG]   -> Skipped: Not a definition (declaration only, no body)
Found variable: deltaTime
[DEBUG] VisitCXXMethodDecl called for: Player::Player
Translating constructor: Player::Player
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp
  Rel:    src/Player.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
  -> Injected vptr initialization
  Translating base class initializer: Entity
  Warning: Base constructor function not found
  [DEBUG] Added constructor to SHARED map: Player__ctor_2 (key: Player__ctor_2, map size now: 3)
{"event":"addDecl_CTOR","funcName":"Player__ctor_2","funcDecl":"0x12902c500","targetCTU":"0x12902a168","declContext":"0x12902a190","ctxAsDeclContext":"0x12902a190","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c"}
  -> [DEBUG addDecl CTOR] Added Player__ctor_2 (FuncDecl @ 0x12902c500) to C_TU @ 0x12902a168 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c) [HAS BODY] [DeclContext @ 0x12902a190]
  -> Player__ctor_2 with 3 parameters, 3 statements
Found variable: x
Found variable: y
[DEBUG] VisitCXXMethodDecl called for: Player::~Player
  -> Already translated, skipping redefinition of ~Player
[DEBUG] VisitCXXMethodDecl called for: Player::getHealth
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Player::getHealth
  -> [DEBUG funcName] Generated name for getHealth: Player_getHealth
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp
  Rel:    src/Player.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Player_getHealth with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Player_getHealth with body translated
{"event":"addDecl_METHOD","funcName":"Player_getHealth","funcDecl":"0x14982ecd8","targetCTU":"0x12902a168","declContext":"0x12902a190","ctxAsDeclContext":"0x12902a190","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c"}
  -> [DEBUG addDecl] Added Player_getHealth (FuncDecl @ 0x14982ecd8) to C_TU @ 0x12902a168 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c) [HAS BODY] [DeclContext @ 0x12902a190]
  -> Player_getHealth with 1 parameters
[DEBUG] VisitCXXMethodDecl called for: Player::getScore
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Player::getScore
  -> [DEBUG funcName] Generated name for getScore: Player_getScore
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp
  Rel:    src/Player.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Player_getScore with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Player_getScore with body translated
{"event":"addDecl_METHOD","funcName":"Player_getScore","funcDecl":"0x14982efa8","targetCTU":"0x12902a168","declContext":"0x12902a190","ctxAsDeclContext":"0x12902a190","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c"}
  -> [DEBUG addDecl] Added Player_getScore (FuncDecl @ 0x14982efa8) to C_TU @ 0x12902a168 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c) [HAS BODY] [DeclContext @ 0x12902a190]
  -> Player_getScore with 1 parameters
[DEBUG] VisitCXXMethodDecl called for: Player::takeDamage
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Player::takeDamage
  -> [DEBUG funcName] Generated name for takeDamage: Player_takeDamage_int
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp
  Rel:    src/Player.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Player_takeDamage_int with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: CompoundAssignOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IfStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Player_takeDamage_int with body translated
{"event":"addDecl_METHOD","funcName":"Player_takeDamage_int","funcDecl":"0x14982f310","targetCTU":"0x12902a168","declContext":"0x12902a190","ctxAsDeclContext":"0x12902a190","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c"}
  -> [DEBUG addDecl] Added Player_takeDamage_int (FuncDecl @ 0x14982f310) to C_TU @ 0x12902a168 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c) [HAS BODY] [DeclContext @ 0x12902a190]
  -> Player_takeDamage_int with 2 parameters
Found variable: damage
[DEBUG] VisitCXXMethodDecl called for: Player::addScore
[DEBUG]   -> Is a definition with body, proceeding to translate
Translating method: Player::addScore
  -> [DEBUG funcName] Generated name for addScore: Player_addScore_int
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp
  Rel:    src/Player.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
[PathMapper::getOrCreateTU] Returning existing C_TU for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
  -> Method linkage: extern (publicly visible)
  -> Recorded method Player_addScore_int with location: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: CompoundAssignOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Player_addScore_int with body translated
{"event":"addDecl_METHOD","funcName":"Player_addScore_int","funcDecl":"0x14982f770","targetCTU":"0x12902a168","declContext":"0x12902a190","ctxAsDeclContext":"0x12902a190","hasBody":true,"isImplicit":false,"sourceFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c"}
  -> [DEBUG addDecl] Added Player_addScore_int (FuncDecl @ 0x14982f770) to C_TU @ 0x12902a168 (/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c) [HAS BODY] [DeclContext @ 0x12902a190]
  -> Player_addScore_int with 2 parameters
Found variable: points
[DEBUG] VisitCXXMethodDecl called for: Player::update
[DEBUG]   -> Is a definition with body, proceeding to translate
Skipping virtual method (handled by vtable): Player::update
Found variable: deltaTime
[DEBUG AFTER TRAVERSAL] C_TU @ 0x12902a168 has 5 declarations after traversal
  [AFTER TRAVERSAL] FunctionDecl: Player__ctor_2
  [AFTER TRAVERSAL] FunctionDecl: Player_getHealth
  [AFTER TRAVERSAL] FunctionDecl: Player_getScore
  [AFTER TRAVERSAL] FunctionDecl: Player_takeDamage_int
  [AFTER TRAVERSAL] FunctionDecl: Player_addScore_int

====================[2/5] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Entity.cpp.
====================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 5 generated declarations
[DEBUG] getUserHeaderFiles() returned 2 headers
[DEBUG]   - /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/include/Entity.h
[DEBUG]   - /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/include/Player.h
[DEBUG] Skipping self-include: src/Player.h (matches current file: Player)
{"event":"iterate_HEADER_START","ctu":"0x12902a168","ctuAsDeclContext":"0x12902a190","declCount":5,"file":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp"}
[DEBUG] Starting header emission - C_TU @ 0x12902a168 has 5 total declarations
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Player__ctor_2","declPtr":"0x12902c500","isImplicit":false,"declContext":"0x12902a190"}
[DEBUG-HEADER] Processing FunctionDecl: Player__ctor_2 @ 0x12902c500 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Player_getHealth","declPtr":"0x14982ecd8","isImplicit":false,"declContext":"0x12902a190"}
[DEBUG-HEADER] Processing FunctionDecl: Player_getHealth @ 0x14982ecd8 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Player_getScore","declPtr":"0x14982efa8","isImplicit":false,"declContext":"0x12902a190"}
[DEBUG-HEADER] Processing FunctionDecl: Player_getScore @ 0x14982efa8 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Player_takeDamage_int","declPtr":"0x14982f310","isImplicit":false,"declContext":"0x12902a190"}
[DEBUG-HEADER] Processing FunctionDecl: Player_takeDamage_int @ 0x14982f310 (implicit=0)
{"event":"iterate_HEADER_FOUND","declType":"FunctionDecl","name":"Player_addScore_int","declPtr":"0x14982f770","isImplicit":false,"declContext":"0x12902a190"}
[DEBUG-HEADER] Processing FunctionDecl: Player_addScore_int @ 0x14982f770 (implicit=0)
[DEBUG] Starting implementation emission - C_TU @ 0x12902a168 has 5 total declarations
[DEBUG-IMPL] Processing FunctionDecl: Player__ctor_2 (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Player_getHealth (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Player_getScore (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Player_takeDamage_int (implicit=0)
[DEBUG-IMPL] Processing FunctionDecl: Player_addScore_int (implicit=0)
Generated files:
  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.h
  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Player.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Entity.cpp
FileOriginTracker configured with user header paths
Translation unit has 111 top-level declarations
[PathMapper::mapSourceToTarget]
  Input:  /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Entity.cpp
  Rel:    src/Entity.cpp
  Output: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Entity.c
{"event":"create_CTU","ctu":"0x14982f8b8","ctuAsDeclContext":"0x14982f8e0","targetFile":"/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Entity.c"}
[PathMapper::getOrCreateTU] Created new C_TU @ 0x14982f8b8 for: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/transpiled/src/Entity.c
[PathMapper] Mapped /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-valid

!!! SEGFAULT CAUGHT (signal 11) !!!
Last operation before crash:
Backtrace:
0   cpptoc                              0x0000000102f17c40 _ZL15segfaultHandleri + 120
1   libsystem_platform.dylib            0x000000019cb38624 _sigtramp + 56
2   cpptoc                              0x00000001030aa0ec _ZNK5clang14IdentifierInfo9getLengthEv + 28
3   cpptoc                              0x00000001030a9fb8 _ZNK5clang14IdentifierInfo7getNameEv + 44
4   cpptoc                              0x0000000103083548 _ZNK5clang9NamedDecl7getNameEv + 136
5   cpptoc                              0x00000001030a2ec0 _ZN13CppToCVisitor23generateCopyConstructorEPN5clang13CXXRecordDeclE + 2340
6   cpptoc                              0x0000000103085698 _ZN13CppToCVisitor28generateImplicitConstructorsEPN5clang13CXXRecordDeclE + 564
7   cpptoc                              0x00000001030844b8 _ZN13CppToCVisitor18VisitCXXRecordDeclEPN5clang13CXXRecordDeclE + 1660
8   cpptoc                              0x0000000103061818 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE23WalkUpFromCXXRecordDeclEPNS_13CXXRecordDeclE + 100
9   cpptoc                              0x0000000102f5e504 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE21TraverseCXXRecordDeclEPNS_13CXXRecordDeclE + 76
10  cpptoc                              0x0000000102f44734 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 3168
11  cpptoc                              0x0000000102ff143c _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE25TraverseDeclContextHelperEPNS_11DeclContextE + 208
12  cpptoc                              0x0000000102f558ac _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE27TraverseTranslationUnitDeclEPNS_19TranslationUnitDeclE + 448
13  cpptoc                              0x0000000102f43c24 _ZN5clang19RecursiveASTVisitorI13CppToCVisitorE12TraverseDeclEPNS_4DeclE + 336
14  cpptoc                              0x0000000102f40bc4 _ZN14CppToCConsumer21HandleTranslationUnitERN5clang10ASTContextE + 1196
15  cpptoc                              0x000000010476cf54 _ZN5clang8ParseASTERNS_4SemaEbb + 976
16  cpptoc                              0x00000001037b1608 _ZN5clang17ASTFrontendAction13ExecuteActionEv + 260
17  cpptoc                              0x00000001037b0ef0 _ZN5clang14FrontendAction7ExecuteEv + 36
18  cpptoc                              0x00000001036eb6c0 _ZN5clang16CompilerInstance13ExecuteActionERNS_14FrontendActionE + 1392
19  cpptoc                              0x00000001036b126c _ZN5clang7tooling21FrontendActionFactory13runInvocationENSt3__110shared_ptrINS_18CompilerInvocationEEEPNS_11FileManagerENS3_INS_22PCHContainerOperationsEEEPNS_18DiagnosticConsumerE + 364
20  cpptoc                              0x00000001036b1064 _ZN5clang7tooling14ToolInvocation13runInvocationEPKcPNS_6driver11CompilationENSt3__110shared_ptrINS_18CompilerInvocationEEENS8_INS_22PCHContainerOperationsEEE + 240
21  cpptoc                              0x00000001036af7e8 _ZN5clang7tooling14ToolInvocation3runEv + 2016
22  cpptoc                              0x00000001036b3628 _ZN5clang7tooling9ClangTool3runEPNS0_10ToolActionE + 5464
23  cpptoc                              0x0000000102f17540 main + 1676
24  dyld                                0x000000019c75eb98 start + 6076

!!! CRITICAL: Exiting due to segfault !!!
    [0;31mâœ— Transpilation failed[0m
[0;31mâŒ FAIL: Game Logic[0m

========================================
SUMMARY
========================================
Total:  5 projects
Passed: 0
Failed: 5
Pass Rate: 0/5 (0%)

[0;31mâŒ FAIL: Less than 80% pass rate (0%)[0m
