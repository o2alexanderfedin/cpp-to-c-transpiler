========================================
Simple Real-World Validation (STL-Free)
========================================

[1;33mTesting Math Library...[0m
  [1/5] Building C++ version...
-- Configuring done (0.1s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/build
[100%] Built target math_library
    âœ“ C++ build successful
  [2/5] Running C++ version...
Vector3D Tests:
  v1 = (1.0, 2.0, 3.0)
  v2 = (4.0, 5.0, 6.0)
  v1 + v2 = (5.0, 7.0, 9.0)
  v1 . v2 = 32.0
  v1 x v2 = (-3.0, 6.0, -3.0)

Matrix3x3 Tests:
  Identity * 2I = 2I (first element: 2.0)
  2I * v1 = (2.0, 4.0, 6.0)

Validation: PASS
    âœ“ C++ execution successful (exit code: 0)
  [3/5] Transpiling to C...
    [Config] Using project-specific args
Error while trying to load a compilation database:
Could not auto-detect compilation database for file "__dummy_for_discovery__.cpp"
No compilation database found in /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library or any parent directory
fixed-compilation-database: Error while opening fixed database: No such file or directory
json-compilation-database: Error while opening JSON database: No such file or directory
Running without flags.
[DEBUG] Installing segfault handler...
[DEBUG] Signal handlers installed
Auto-discovering C++ source files in: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library
Discovered 3 file(s) for transpilation
[DEBUG] About to call Tool.run()...
[1/3] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/main.cpp.
In file included from /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/main.cpp:4:
In file included from /opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/cmath:319:
In file included from /opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/__math/hypot.h:21:
In file included from /opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/limits:524:
In file included from /opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/type_traits:512:
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/__type_traits/is_trivially_copyable.h:31:99: error: reference to unresolved using declaration
   31 | inline const bool __is_cheap_to_copy = __is_trivially_copyable(_Tp) && sizeof(_Tp) <= sizeof(std::intmax_t);
      |                                                                                                   ^
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/cstdint:191:1: note: using declaration annotated with 'using_if_exists' here
  191 | using ::intmax_t _LIBCPP_USING_IF_EXISTS;
      | ^
In file included from /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/main.cpp:4:
In file included from /opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/cmath:331:
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:393:31: error: use of undeclared identifier 'FP_NAN'
  393 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                               ^~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:393:39: error: use of undeclared identifier 'FP_INFINITE'
  393 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                       ^~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:393:52: error: use of undeclared identifier 'FP_NORMAL'
  393 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                    ^~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:393:63: error: use of undeclared identifier 'FP_SUBNORMAL'
  393 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                               ^~~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:393:77: error: use of undeclared identifier 'FP_ZERO'
  393 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                                             ^~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:398:31: error: use of undeclared identifier 'FP_NAN'
  398 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                               ^~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:398:39: error: use of undeclared identifier 'FP_INFINITE'
  398 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                       ^~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:398:52: error: use of undeclared identifier 'FP_NORMAL'
  398 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                    ^~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:398:63: error: use of undeclared identifier 'FP_SUBNORMAL'
  398 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                               ^~~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:398:77: error: use of undeclared identifier 'FP_ZERO'
  398 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                                             ^~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:403:31: error: use of undeclared identifier 'FP_NAN'
  403 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                               ^~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:403:39: error: use of undeclared identifier 'FP_INFINITE'
  403 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                       ^~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:403:52: error: use of undeclared identifier 'FP_NORMAL'
  403 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                    ^~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:403:63: error: use of undeclared identifier 'FP_SUBNORMAL'
  403 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                               ^~~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:403:77: error: use of undeclared identifier 'FP_ZERO'
  403 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                                             ^~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:408:21: error: use of undeclared identifier 'FP_ZERO'
  408 |   return __x == 0 ? FP_ZERO : FP_NORMAL;
      |                     ^~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:408:31: error: use of undeclared identifier 'FP_NORMAL'
  408 |   return __x == 0 ? FP_ZERO : FP_NORMAL;
      |                               ^~~~~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/main.cpp:15:5: error: use of undeclared identifier 'printf'
   15 |     printf("Vector3D Tests:\n");
      |     ^~~~~~
fatal error: too many errors emitted, stopping now [-ferror-limit=]
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/main.cpp
FileOriginTracker configured with user header paths
Translation unit has 390 top-level declarations
[Bug #30 FIX] Creating independent target ASTContext for C output...
[Bug #30 FIX] Target ASTContext created successfully:
  - ASTContext @ 0x144842800
  - Target Triple: arm64-apple-darwin24.5.0
  - Language: C11
[Bug #30 FIX] Created C_TU @ 0x14484cb68 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/main.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x14484cb68
Translating class: Vector3D

*** Dumping AST Record Layout
         0 | struct Vector3D
         0 |   float x
         4 |   float y
         8 |   float z
           | [sizeof=12, align=4]
  -> struct Vector3D with 3 fields
  Generating implicit copy constructor
  Generated copy constructor: Vector3D__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 5 method declarations

// Static declarations for all Vector3D methods
static void Vector3D__ctor_3(struct Vector3D *this, float x, float y, float z);
static struct Vector3D Vector3D_add(const struct Vector3D *this, const struct Vector3D * other);
static struct Vector3D Vector3D_subtract(const struct Vector3D *this, const struct Vector3D * other);
static float Vector3D_dot(const struct Vector3D *this, const struct Vector3D * other);
static struct Vector3D Vector3D_cross(const struct Vector3D *this, const struct Vector3D * other);
static float Vector3D_magnitude(const struct Vector3D *this);

Found variable: x
Found variable: y
Found variable: z
Found variable: other
Found variable: other
Found variable: other
Found variable: other
Translating class: Matrix3x3
  -> struct Matrix3x3 with 1 fields
  Generating implicit copy constructor
    Using memcpy for array field: data
  Generated copy constructor: Matrix3x3__ctor_copy
  [Phase 31-03] Generated 2 constructor, 0 destructor, 5 method declarations

// Static declarations for all Matrix3x3 methods
static void Matrix3x3__ctor(struct Matrix3x3 *this);
static void Matrix3x3__ctor_9(struct Matrix3x3 *this, float m00, float m01, float m02, float m10, float m11, float m12, float m20, float m21, float m22);
static struct Matrix3x3 Matrix3x3_add(const struct Matrix3x3 *this, const struct Matrix3x3 * other);
static struct Matrix3x3 Matrix3x3_multiply(const struct Matrix3x3 *this, const struct Matrix3x3 * other);
static struct Vector3D Matrix3x3_multiply(const struct Matrix3x3 *this, const struct Vector3D * vec);
static float Matrix3x3_get(const struct Matrix3x3 *this, int row, int col);
static void Matrix3x3_set(struct Matrix3x3 *this, int row, int col, float value);

Found variable: m00
Found variable: m01
Found variable: m02
Found variable: m10
Found variable: m11
Found variable: m12
Found variable: m20
Found variable: m21
Found variable: m22
Found variable: other
Found variable: other
Found variable: vec
Found variable: row
Found variable: col
Found variable: row
Found variable: col
Found variable: value
Analyzing function for RAII: main
  Found 10 local variables
Translating standalone function: main
  Mangled name: main
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: v1
      Is a struct/class type
      Is a C++ class: Vector3D
      Found C struct: Vector3D
      Creating C variable declaration
      Has constructor expression
      WARNING: C constructor not found in ctorMap!
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: v2
      Is a struct/class type
      Is a C++ class: Vector3D
      Found C struct: Vector3D
      Creating C variable declaration
      Has constructor expression
      WARNING: C constructor not found in ctorMap!
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: sum
      Is a struct/class type
      Is a C++ class: Vector3D
      Found C struct: Vector3D
      Creating C variable declaration
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: dot
  Warning: Method not in methodToCFunc map, generating call anyway: Vector3D::dot
  Generated function name: Vector3D_dot
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: cross
      Is a struct/class type
      Is a C++ class: Vector3D
      Found C struct: Vector3D
      Creating C variable declaration
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: m1
      Is a struct/class type
      Is a C++ class: Matrix3x3
      Found C struct: Matrix3x3
      Creating C variable declaration
      Has constructor expression
      WARNING: C constructor not found in ctorMap!
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: m2
      Is a struct/class type
      Is a C++ class: Matrix3x3
      Found C struct: Matrix3x3
      Creating C variable declaration
      Has constructor expression
      WARNING: C constructor not found in ctorMap!
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: mProd
      Is a struct/class type
      Is a C++ class: Matrix3x3
      Found C struct: Matrix3x3
      Creating C variable declaration
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: transformed
      Is a struct/class type
      Is a C++ class: Vector3D
      Found C struct: Vector3D
      Creating C variable declaration
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: passed
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ConditionalOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> C function 'main' created
  Parameters: 0
  Return type: int
Found variable: v1
Found variable: v2
Found variable: sum
Found variable: dot
Found variable: cross
Found variable: m1
Found variable: m2
Found variable: mProd
Found variable: transformed
Found variable: passed

========================================
Processing Template Instantiations
========================================

[DEBUG TemplateExtractor] VisitClassTemplateDecl: enable_if
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: integral_constant
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_cv
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_integral
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __libcpp_is_floating_point
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_floating_point
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_arithmetic
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_same
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_signed
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __libcpp_numeric_limits
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: numeric_limits
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_const
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_cv
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_volatile
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_void
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_lvalue_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_rvalue_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __type_list
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __type_list_head
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __find_first
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __align_type
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __find_max_align
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __select_align
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: aligned_storage
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __static_max
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: aligned_union
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: alignment_of
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: _IfImpl
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: conditional
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: decay
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __type_identity
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: common_type
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: common_type
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: extent
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: has_virtual_destructor
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_abstract
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_array
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_copy_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_move_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_base_of
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_class
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_null_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_fundamental
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_compound
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_const
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_copy_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_move_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_default_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_convertible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_function
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_lvalue_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_rvalue_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_all_extents
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_destructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_empty
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_enum
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_literal_type
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_member_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_member_object_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_member_function_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_copy_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_move_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_copy_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_move_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_default_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_destructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_object
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_pod
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_polymorphic
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_scalar
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_standard_layout
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivial
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_copy_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_move_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_copy_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_move_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_default_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_copyable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_destructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_union
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_unsigned
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_volatile
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __copy_cv
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: make_signed
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: make_unsigned
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: rank
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_const
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_extent
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_volatile
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: less
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: hash
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: reference_wrapper
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __is_reference_wrapper_impl
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __is_reference_wrapper
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __invoke_result_impl
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __is_invocable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __invoke_void_return_wrapper
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_invocable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_invocable_r
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_invocable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_invocable_r
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: invoke_result
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: result_of
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __underlying_type_impl
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: underlying_type
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __libcpp_is_final
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_final
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __all_dummy
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __all
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: conjunction
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: _OrImpl
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: disjunction
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: has_unique_object_representations
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_aggregate
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_swappable_with
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_swappable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_swappable_with
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_swappable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTe20 errors generated.
Error while processing /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/main.cpp.
[2/3] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp.
mplateDecl: _Not
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: negation
  -> Skipped (not user code)
Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 6 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ConditionalOperator
Generated files:
  transpiled/main.h
  transpiled/main.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp
FileOriginTracker configured with user header paths
Translation unit has 99 top-level declarations
[Bug #30 FIX] Created C_TU @ 0x14484ffb8 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Matrix3x3.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x14484ffb8
Translating class: Vector3D
  -> struct Vector3D with 3 fields
  Generating implicit copy constructor
  Generated copy constructor: Vector3D__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 5 method declarations

// Static declarations for all Vector3D methods
static void Vector3D__ctor_3(struct Vector3D *this, float x, float y, float z);
static struct Vector3D Vector3D_add(const struct Vector3D *this, const struct Vector3D * other);
static struct Vector3D Vector3D_subtract(const struct Vector3D *this, const struct Vector3D * other);
static float Vector3D_dot(const struct Vector3D *this, const struct Vector3D * other);
static struct Vector3D Vector3D_cross(const struct Vector3D *this, const struct Vector3D * other);
static float Vector3D_magnitude(const struct Vector3D *this);

Found variable: x
Found variable: y
Found variable: z
Found variable: other
Found variable: other
Found variable: other
Found variable: other
Translating class: Matrix3x3
  -> struct Matrix3x3 with 1 fields
  Generating implicit copy constructor
    Using memcpy for array field: data
  Generated copy constructor: Matrix3x3__ctor_copy
  [Phase 31-03] Generated 2 constructor, 0 destructor, 5 method declarations

// Static declarations for all Matrix3x3 methods
static void Matrix3x3__ctor(struct Matrix3x3 *this);
static void Matrix3x3__ctor_9(struct Matrix3x3 *this, float m00, float m01, float m02, float m10, float m11, float m12, float m20, float m21, float m22);
static struct Matrix3x3 Matrix3x3_add(const struct Matrix3x3 *this, const struct Matrix3x3 * other);
static struct Matrix3x3 Matrix3x3_multiply(const struct Matrix3x3 *this, const struct Matrix3x3 * other);
static struct Vector3D Matrix3x3_multiply(const struct Matrix3x3 *this, const struct Vector3D * vec);
static float Matrix3x3_get(const struct Matrix3x3 *this, int row, int col);
static void Matrix3x3_set(struct Matrix3x3 *this, int row, int col, float value);

Found variable: m00
Found variable: m01
Found variable: m02
Found variable: m10
Found variable: m11
Found variable: m12
Found variable: m20
Found variable: m21
Found variable: m22
Translating method: Matrix3x3::add
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: result
      Is a struct/class type
      Is a C++ class: Matrix3x3
      Found C struct: Matrix3x3
      Creating C variable declaration
      Has constructor expression
      WARNING: C constructor not found in ctorMap!
[DEBUG Bug#26] translateStmt called, type: ForStmt
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: i
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXConstructExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Matrix3x3
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 1
[DEBUG Bug#26] NumArgs: 1
[DEBUG Bug#26] This is a copy/move constructor, checking argument...
[DEBUG Bug#26] Argument type: ImplicitCastExpr
[DEBUG Bug#26] Unwrapped to: DeclRefExpr
[DEBUG Bug#26] Copy of variable, returning normally
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Matrix3x3_add with body translated
  -> Matrix3x3_add with 2 parameters
Found variable: other
Translating method: Matrix3x3::multiply
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: result
      Is a struct/class type
      Is a C++ class: Matrix3x3
      Found C struct: Matrix3x3
      Creating C variable declaration
      Has constructor expression
      WARNING: C constructor not found in ctorMap!
[DEBUG Bug#26] translateStmt called, type: ForStmt
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: row
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: ForStmt
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: col
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 2
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: sum
[DEBUG Bug#26] translateStmt called, type: ForStmt
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: k
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 3
[DEBUG Bug#26] translateStmt called, type: CompoundAssignOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 3 with 0 objects
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 2 with 0 objects
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXConstructExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Matrix3x3
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 1
[DEBUG Bug#26] NumArgs: 1
[DEBUG Bug#26] This is a copy/move constructor, checking argument...
[DEBUG Bug#26] Argument type: ImplicitCastExpr
[DEBUG Bug#26] Unwrapped to: DeclRefExpr
[DEBUG Bug#26] Copy of variable, returning normally
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Matrix3x3_multiply with body translated
  -> Matrix3x3_multiply with 2 parameters
Found variable: other
Translating method: Matrix3x3::multiply
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXTemporaryObjectExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Vector3D
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 3
[DEBUG Bug#26] Looking up in ctorMap (size: 2)
[DEBUG Bug#26] WARNING: Constructor not found in ctorMap for return statement
[DEBUG Bug#26] Constructor name: Vector3D
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Matrix3x3_multiply_Vector3D_ref with body translated
  -> Matrix3x3_multiply_Vector3D_ref with 2 parameters
Found variable: vec
Translating method: Matrix3x3::get
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: ArraySubscriptExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Matrix3x3_get with body translated
  -> Matrix3x3_get with 3 parameters
Found variable: row
Found variable: col
Translating method: Matrix3x3::set
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Matrix3x3_set with body translated
  -> Matrix3x3_set with 4 parameters
Found variable: row
Found variable: col
Found variable: value
Translating constructor: Matrix3x3::Matrix3x3
[DEBUG Bug#26] translateStmt called, type: ForStmt
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: i
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: FloatingLiteral
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Matrix3x3__ctor with 1 parameters, 1 statements
Found variable: i
Translating constructor: Matrix3x3::Matrix3x3
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ArraySubscriptExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  -> Matrix3x3__ctor_9 with 10 parameters, 9 statements
Found variable: m00
Found variable: m01
Found variable: m02
Found variable: m10
Found variable: m11
Found variable: m12
Found variable: m20
Found variable: m21
Found variable: m22
  -> Already translated, skipping redefinition of Matrix3x3::add
Found variable: other
Found variable: result
Found variable: i
  -> Already translated, skipping redefinition of Matrix3x3::multiply
Found variable: other
Found variable: result
Found variable: row
Found variable: col
Found variable: sum
Found variable: k
  -> Already translated, skipping redefinition of Matrix3x3::multiply
Found variable: vec
  -> Already translated, skipping redefinition of Matrix3x3::get
Found variable: row
Found variable: col
  -> Already translated, skipping redefinition of Matrix3x3::set
Found variable: row
Found variable: col
Found variable: value

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 11 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: DeclRefExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: DeclRefExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: CompoundLiteralExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Re[3/3] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Vector3D.cpp.
In file included from /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Vector3D.cpp:2:
In file included from /opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/cmath:319:
In file included from /opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/__math/hypot.h:21:
In file included from /opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/limits:524:
In file included from /opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/type_traits:512:
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/__type_traits/is_trivially_copyable.h:31:99: error: reference to unresolved using declaration
   31 | inline const bool __is_cheap_to_copy = __is_trivially_copyable(_Tp) && sizeof(_Tp) <= sizeof(std::intmax_t);
      |                                                                                                   ^
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/cstdint:191:1: note: using declaration annotated with 'using_if_exists' here
  191 | using ::intmax_t _LIBCPP_USING_IF_EXISTS;
      | ^
In file included from /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Vector3D.cpp:2:
In file included from /opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/cmath:331:
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:393:31: error: use of undeclared identifier 'FP_NAN'
  393 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                               ^~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:393:39: error: use of undeclared identifier 'FP_INFINITE'
  393 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                       ^~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:393:52: error: use of undeclared identifier 'FP_NORMAL'
  393 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                    ^~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:393:63: error: use of undeclared identifier 'FP_SUBNORMAL'
  393 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                               ^~~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:393:77: error: use of undeclared identifier 'FP_ZERO'
  393 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                                             ^~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:398:31: error: use of undeclared identifier 'FP_NAN'
  398 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                               ^~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:398:39: error: use of undeclared identifier 'FP_INFINITE'
  398 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                       ^~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:398:52: error: use of undeclared identifier 'FP_NORMAL'
  398 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                    ^~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:398:63: error: use of undeclared identifier 'FP_SUBNORMAL'
  398 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                               ^~~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:398:77: error: use of undeclared identifier 'FP_ZERO'
  398 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                                             ^~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:403:31: error: use of undeclared identifier 'FP_NAN'
  403 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                               ^~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:403:39: error: use of undeclared identifier 'FP_INFINITE'
  403 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                       ^~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:403:52: error: use of undeclared identifier 'FP_NORMAL'
  403 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                    ^~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:403:63: error: use of undeclared identifier 'FP_SUBNORMAL'
  403 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                               ^~~~~~~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:403:77: error: use of undeclared identifier 'FP_ZERO'
  403 |   return __builtin_fpclassify(FP_NAN, FP_INFINITE, FP_NORMAL, FP_SUBNORMAL, FP_ZERO, __x);
      |                                                                             ^~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:408:21: error: use of undeclared identifier 'FP_ZERO'
  408 |   return __x == 0 ? FP_ZERO : FP_NORMAL;
      |                     ^~~~~~~
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:408:31: error: use of undeclared identifier 'FP_NORMAL'
  408 |   return __x == 0 ? FP_ZERO : FP_NORMAL;
      |                               ^~~~~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Vector3D.cpp:27:12: error: use of undeclared identifier 'sqrtf'; did you mean 'sqrt'?
   27 |     return sqrtf(x * x + y * y + z * z);
      |            ^~~~~
      |            sqrt
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/math.h:490:20: note: 'sqrt' declared here
  490 | using std::__math::sqrt;
      |                    ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
turn value type: ImplicitCastExpr
Generated files:
  transpiled/src/Matrix3x3.h
  transpiled/src/Matrix3x3.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Vector3D.cpp
FileOriginTracker configured with user header paths
Translation unit has 393 top-level declarations
[Bug #30 FIX] Created C_TU @ 0x155061ac0 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Vector3D.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x155061ac0
Translating class: Vector3D

*** Dumping AST Record Layout
         0 | struct Vector3D
         0 |   float x
         4 |   float y
         8 |   float z
           | [sizeof=12, align=4]
  -> struct Vector3D with 3 fields
  Generating implicit copy constructor
  Generated copy constructor: Vector3D__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 5 method declarations

// Static declarations for all Vector3D methods
static void Vector3D__ctor_3(struct Vector3D *this, float x, float y, float z);
static struct Vector3D Vector3D_add(const struct Vector3D *this, const struct Vector3D * other);
static struct Vector3D Vector3D_subtract(const struct Vector3D *this, const struct Vector3D * other);
static float Vector3D_dot(const struct Vector3D *this, const struct Vector3D * other);
static struct Vector3D Vector3D_cross(const struct Vector3D *this, const struct Vector3D * other);
static float Vector3D_magnitude(const struct Vector3D *this);

Found variable: x
Found variable: y
Found variable: z
Translating method: Vector3D::add
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXTemporaryObjectExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Vector3D
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 3
[DEBUG Bug#26] Looking up in ctorMap (size: 1)
[DEBUG Bug#26] WARNING: Constructor not found in ctorMap for return statement
[DEBUG Bug#26] Constructor name: Vector3D
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Vector3D_add with body translated
  -> Vector3D_add with 2 parameters
Found variable: other
Translating method: Vector3D::subtract
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXTemporaryObjectExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Vector3D
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 3
[DEBUG Bug#26] Looking up in ctorMap (size: 1)
[DEBUG Bug#26] WARNING: Constructor not found in ctorMap for return statement
[DEBUG Bug#26] Constructor name: Vector3D
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Vector3D_subtract with body translated
  -> Vector3D_subtract with 2 parameters
Found variable: other
Translating method: Vector3D::dot
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: BinaryOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Vector3D_dot with body translated
  -> Vector3D_dot with 2 parameters
Found variable: other
Translating method: Vector3D::cross
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXTemporaryObjectExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Vector3D
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 3
[DEBUG Bug#26] Looking up in ctorMap (size: 1)
[DEBUG Bug#26] WARNING: Constructor not found in ctorMap for return statement
[DEBUG Bug#26] Constructor name: Vector3D
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Vector3D_cross with body translated
  -> Vector3D_cross with 2 parameters
Found variable: other
Translating method: Vector3D::magnitude
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
  [Bug #8] Skipping statement containing RecoveryExpr
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Vector3D_magnitude with body translated
  -> Vector3D_magnitude with 1 parameters
Translating constructor: Vector3D::Vector3D
  -> Vector3D__ctor with 4 parameters, 3 statements
Found variable: x
Found variable: y
Found variable: z
  -> Already translated, skipping redefinition of Vector3D::add
Found variable: other
  -> Already translated, skipping redefinition of Vector3D::subtract
Found variable: other
  -> Already translated, skipping redefinition of Vector3D::dot
Found variable: other
  -> Already translated, skipping redefinition of Vector3D::cross
Found variable: other
  -> Already translated, skipping redefinition of Vector3D::magnitude

========================================
Processing Template Instantiations
========================================

[DEBUG TemplateExtractor] VisitClassTemplateDecl: enable_if
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: integral_constant
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_cv
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_integral
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __libcpp_is_floating_point
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_floating_point
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_arithmetic
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_same
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_signed
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __libcpp_numeric_limits
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: numeric_limits
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_const
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_cv
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_volatile
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_void
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_lvalue_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: add_rvalue_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __type_list
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __type_list_head
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __find_first
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __align_type
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __find_max_align
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __select_align
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: aligned_storage
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __static_max
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: aligned_union
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: alignment_of
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: _IfImpl
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: conditional
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: decay
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __type_identity
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: common_type
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: common_type
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: extent
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: has_virtual_destructor
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_abstract
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_array
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_copy_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_move_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_base_of
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_class
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_null_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_fundamental
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_compound
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_const
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_copy_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_move_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_default_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_convertible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_function
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_lvalue_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_rvalue_reference
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_all_extents
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_destructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_empty
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_enum
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_literal_type
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_member_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_member_object_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_member_function_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_copy_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_move_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_copy_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_move_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_default_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_destructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_object
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_pod
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_polymorphic
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_scalar
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_standard_layout
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivial
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_copy_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_move_assignable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_copy_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_move_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_default_constructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_copyable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_trivially_destructible
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_union
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_unsigned
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_volatile
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __copy_cv
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: make_signed
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: make_unsigned
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: rank
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_const
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_extent
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_pointer
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_volatile
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: less
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: hash
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: reference_wrapper
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __is_reference_wrapper_impl
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __is_reference_wrapper
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __invoke_result_impl
  -> Skipped (not user code)
[DEBUG T20 errors generated.
Error while processing /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/01-math-library/src/Vector3D.cpp.
emplateExtractor] VisitClassTemplateDecl: __is_invocable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __invoke_void_return_wrapper
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_invocable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_invocable_r
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_invocable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_invocable_r
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: invoke_result
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: result_of
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __underlying_type_impl
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: underlying_type
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __libcpp_is_final
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_final
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __all_dummy
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: __all
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: conjunction
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: _OrImpl
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: disjunction
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: has_unique_object_representations
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_aggregate
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_swappable_with
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_swappable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_swappable_with
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_nothrow_swappable
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: _Not
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: negation
  -> Skipped (not user code)
Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 8 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: CompoundLiteralExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: CompoundLiteralExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: BinaryOperator
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: CompoundLiteralExpr
Generated files:
  transpiled/src/Vector3D.h
  transpiled/src/Vector3D.c
[DEBUG] Tool.run() returned: 1
[DEBUG] After Tool.run(), about to handle dependencies...

Transpilation completed successfully. Generated 3 file pair(s).
    âœ“ Transpilation successful
  [4/5] Building transpiled C version...
./src/Vector3D.c:33:1: warning: non-void function does not return a value [-Wreturn-type]
   33 | }
      | ^
1 warning generated.
    âœ“ C build successful
  [5/5] Running transpiled C version...
    âœ“ C execution successful (exit code: 0)
[0;32mâœ… PASS: Math Library[0m

[1;33mTesting Custom Container...[0m
  [1/5] Building C++ version...
-- Configuring done (0.1s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/build
[100%] Built target custom_container
    âœ“ C++ build successful
  [2/5] Running C++ version...
LinkedList<int> Tests:
  Initial size: 0
  Is empty: true
  After push_back(10, 20, 30): size = 3
  Front element: 10
  After push_front(5): size = 4, front = 5
  After pop_front(): size = 3, front = 10

LinkedList<float> Tests:
  Size: 3
  Front: 1.5

Validation: PASS
    âœ“ C++ execution successful (exit code: 0)
  [3/5] Transpiling to C...
    [Config] Using project-specific args
Error while trying to load a compilation database:
Could not auto-detect compilation database for file "__dummy_for_discovery__.cpp"
No compilation database found in /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container or any parent directory
fixed-compilation-database: Error while opening fixed database: No such file or directory
json-compilation-database: Error while opening JSON database: No such file or directory
Running without flags.
[DEBUG] Installing segfault handler...
[DEBUG] Signal handlers installed
Auto-discovering C++ source files in: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container
Discovered 1 file(s) for transpilation
[DEBUG] About to call Tool.run()...
In file included from /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/main.cpp:1:
In file included from /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/include/LinkedList.h:4:
In file included from /opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/cstddef:42:
/opt/homebrew/Cellar/llvm/21.1.7/include/c++/v1/stddef.h:38:17: fatal error: 'stddef.h' file not found
   38 | #  include_next <stddef.h>
      |                 ^~~~~~~~~~
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/main.cpp
FileOriginTracker configured with user header paths
Translation unit has 113 top-level declarations
[Bug #30 FIX] Creating independent target ASTContext for C output...
[Bug #30 FIX] Target ASTContext created successfully:
  - ASTContext @ 0x15103ca00
  - Target Triple: arm64-apple-darwin24.5.0
  - Language: C11
[Bug #30 FIX] Created C_TU @ 0x151046d68 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/main.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x151046d68
Found class template: LinkedList
Skipping nested class 'Node' inside template pattern 'LinkedList'
Skipping method 'Node' of nested class 'Node' inside template pattern 'LinkedList'
Skipping constructor of nested class 'Node' inside template pattern 'LinkedList'
Found variable: value
Found variable: value
Found variable: value
Found variable: value
Found variable: newNode
Found variable: value
Found variable: newNode
Found variable: temp
Found variable: temp
Analyzing function for RAII: main
  Found 3 local variables
Translating standalone function: main
  Mangled name: main
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: list
      Is a template specialization: LinkedList
      Monomorphized struct name: LinkedList_int
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: floatList
      Is a template specialization: LinkedList
      Monomorphized struct name: LinkedList_float
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: passed
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ConditionalOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> C function 'main' created
  Parameters: 0
  Return type: int
Found variable: list
Found variable: floatList
Found variable: passed

========================================
Processing Template Instantiations
========================================

[DEBUG TemplateExtractor] VisitClassTemplateDecl: enable_if
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: integral_constant
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: remove_cv
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: is_integral
  -> Skipped (not user code)
[DEBUG TemplateExtractor] VisitClassTemplateDecl: LinkedList
  -> Processing specializations (2 found)
    -> Checking specialization
       -> Adding to collection
    -> Checking specialization
       -> Adding to collection
Found 2 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:
  Generating AST for: LinkedList<int>
  Processing nested class: Node
    -> Generated struct LinkedList_int_Node with 2 fields
    -> Processing nested constructor: Node
      -> Generated constructor function: LinkedList_int_Node__ctor
    -> Created struct: LinkedList_int
    -> Created 7 method function(s)
      -> Found pattern method: push_back
      -> Found pattern method: push_front
      -> Found pattern method: pop_front
      -> Found pattern method: front
      -> Found pattern method: size
      -> Found pattern method: isEmpty
      -> Found pattern method: clear
      -> Method push_back has inline body
      -> Translating body for LinkedList_int_push_back
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: newNode
  Translating CXXNewExpr to malloc()
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: CXXDependentScopeMemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully
      -> Method push_front has inline body
      -> Translating body for LinkedList_int_push_front
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: newNode
  Translating CXXNewExpr to malloc()
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: CXXDependentScopeMemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully
      -> Method pop_front has inline body
      -> Translating body for LinkedList_int_pop_front
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: temp
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: CXXDependentScopeMemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 2
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: CXXNullPtrLiteralExpr
  Translating nullptr to NULL
  Translating nullptr to NULL
  [Scope] Exiting scope at depth 2 with 0 objects
[DEBUG Bug#26] translateStmt called, type: CXXDeleteExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating CXXDeleteExpr to free()
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully
      -> Method front has inline body
      -> Translating body for LinkedList_int_front
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXDependentScopeMemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully
      -> Method size has out-of-line definition, searching...
      -> Warning: Could not find body for method: size
      -> Method isEmpty has inline body
      -> Translating body for LinkedList_int_isEmpty
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully
      -> Method clear has inline body
      -> Translating body for LinkedList_int_clear
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: WhileStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: temp
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: CXXDependentScopeMemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: CXXDeleteExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating CXXDeleteExpr to free()
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: CXXNullPtrLiteralExpr
  Translating nullptr to NULL
  Translating nullptr to NULL
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully
  Generating AST for: LinkedList<float>
  Processing nested class: Node
    -> Generated struct LinkedList_float_Node with 2 fields
    -> Processing nested constructor: Node
      -> Generated constructor function: LinkedList_float_Node__ctor
    -> Created struct: LinkedList_float
    -> Created 7 method function(s)
      -> Found pattern method: push_back
      -> Found pattern method: push_front
      -> Found pattern method: pop_front
      -> Found pattern method: front
      -> Found pattern method: size
      -> Found pattern method: isEmpty
      -> Found pattern method: clear
      -> Method push_back has inline body
      -> Translating body for LinkedList_float_push_back
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: newNode
  Translating CXXNewExpr to malloc()
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: CXXDependentScopeMemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully
      -> Method push_front has inline body
      -> Translating body for LinkedList_float_push_front
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: newNode
  Translating CXXNewExpr to malloc()
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: CXXDependentScopeMemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully
      -> Method pop_front has inline body
      -> Translating body for LinkedList_float_pop_front
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: temp
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: CXXDependentScopeMemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 2
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: CXXNullPtrLiteralExpr
  Translating nullptr to NULL
  Translating nullptr to NULL
  [Scope] Exiting scope at depth 2 with 0 objects
[DEBUG Bug#26] translateStmt called, type: CXXDeleteExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating CXXDeleteExpr to free()
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully
      -> Method front has inline body
      -> Translating body for LinkedList_float_front
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXDependentScopeMemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully
      -> Method size has out-of-line definition, searching...
      -> Warning: Could not find body for method: size
      -> Method isEmpty has inline body
      -> Translating body for LinkedList_float_isEmpty
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully
      -> Method clear has inline body
      -> Translating body for LinkedList_float_clear
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: WhileStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: temp
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: CXXDependentScopeMemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: CXXDeleteExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating CXXDeleteExpr to free()
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#1 error generated.
Error while processing /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/02-custom-container/main.cpp.
26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: CXXNullPtrLiteralExpr
  Translating nullptr to NULL
  Translating nullptr to NULL
  [Scope] Exiting scope at depth 0 with 0 objects
      -> Body translated successfully

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 2
========================================

C TranslationUnit has 25 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ConditionalOperator
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: CXXDependentScopeMemberExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: CXXDependentScopeMemberExpr
Generated files:
  transpiled/main.h
  transpiled/main.c
[DEBUG] Tool.run() returned: 1
[DEBUG] After Tool.run(), about to handle dependencies...

Transpilation completed successfully. Generated 1 file pair(s).
    âœ“ Transpilation successful
  [4/5] Building transpiled C version...
In file included from ./main.c:4:
./main.h:29:1: error: must use 'struct' tag to refer to type 'Node'
   29 | Node *newNode = malloc(sizeof(Node))
      | ^
      | struct 
./main.h:29:31: error: use of undeclared identifier 'Node'; did you mean 'modf'?
   29 | Node *newNode = malloc(sizeof(Node))
      |                               ^~~~
      |                               modf
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/math.h:399:15: note: 'modf' declared here
  399 | extern double modf(double, double *);
      |               ^
In file included from ./main.c:4:
./main.h:29:17: error: initializer element is not a compile-time constant
   29 | Node *newNode = malloc(sizeof(Node))
      |                 ^~~~~~~~~~~~~~~~~~~~
./main.h:29:37: error: expected ';' after top level declarator
   29 | Node *newNode = malloc(sizeof(Node))
      |                                     ^
      |                                     ;
./main.h:35:41: warning: declaration of 'struct LinkedList_float_Node' will not be visible outside of this function [-Wvisibility]
   35 | void LinkedList_float_Node__ctor(struct LinkedList_float_Node * this, float * value);
      |                                         ^
./main.h:48:1: error: must use 'struct' tag to refer to type 'Node'
   48 | Node *newNode = malloc(sizeof(Node))
      | ^
      | struct 
./main.h:48:31: error: use of undeclared identifier 'Node'; did you mean 'modf'?
   48 | Node *newNode = malloc(sizeof(Node))
      |                               ^~~~
      |                               modf
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/math.h:399:15: note: 'modf' declared here
  399 | extern double modf(double, double *);
      |               ^
In file included from ./main.c:4:
./main.h:48:7: error: redefinition of 'newNode'
   48 | Node *newNode = malloc(sizeof(Node))
      |       ^
./main.h:29:7: note: previous definition is here
   29 | Node *newNode = malloc(sizeof(Node))
      |       ^
./main.h:48:37: error: expected ';' after top level declarator
   48 | Node *newNode = malloc(sizeof(Node))
      |                                     ^
      |                                     ;
./main.c:19:2: error: must use 'struct' tag to refer to type 'Node'
   19 |         Node *newNode = malloc(sizeof(Node));
      |         ^
      |         struct 
./main.c:19:32: error: use of undeclared identifier 'Node'; did you mean 'modf'?
   19 |         Node *newNode = malloc(sizeof(Node));
      |                                       ^~~~
      |                                       modf
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/math.h:399:15: note: 'modf' declared here
  399 | extern double modf(double, double *);
      |               ^
./main.c:22:27: warning: incompatible pointer types assigning to 'struct LinkedList_int_Node *' from 'Node *' [-Wincompatible-pointer-types]
   22 |                 this->head = this->tail = newNode;
      |                                         ^ ~~~~~~~
./main.c:26:14: warning: incompatible pointer types assigning to 'struct LinkedList_int_Node *' from 'Node *' [-Wincompatible-pointer-types]
   26 |                 this->tail = newNode;
      |                            ^ ~~~~~~~
./main.c:32:2: error: must use 'struct' tag to refer to type 'Node'
   32 |         Node *newNode = malloc(sizeof(Node));
      |         ^
      |         struct 
./main.c:32:32: error: use of undeclared identifier 'Node'; did you mean 'modf'?
   32 |         Node *newNode = malloc(sizeof(Node));
      |                                       ^~~~
      |                                       modf
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/math.h:399:15: note: 'modf' declared here
  399 | extern double modf(double, double *);
      |               ^
./main.c:34:9: error: incomplete definition of type 'Node'
   34 |         newNode->next = this->head;
      |         ~~~~~~~^
./main.h:14:9: note: forward declaration of 'struct Node'
   14 |         struct Node * next;
      |                ^
./main.c:35:13: warning: incompatible pointer types assigning to 'struct LinkedList_int_Node *' from 'Node *' [-Wincompatible-pointer-types]
   35 |         this->head = newNode;
      |                    ^ ~~~~~~~
./main.c:44:3: error: must use 'struct' tag to refer to type 'Node'
   44 |                 Node *temp = this->head;
      |                 ^
      |                 struct 
./main.c:44:9: warning: incompatible pointer types initializing 'Node *' with an expression of type 'struct LinkedList_int_Node *' [-Wincompatible-pointer-types]
   44 |                 Node *temp = this->head;
      |                       ^      ~~~~~~~~~~
./main.c:46:14: warning: incompatible pointer types assigning to 'struct LinkedList_int_Node *' from 'struct Node *' [-Wincompatible-pointer-types]
   46 |                 this->head = this->head->next;
      |                            ^ ~~~~~~~~~~~~~~~~
./main.c:67:3: error: must use 'struct' tag to refer to type 'Node'
   67 |                 Node *temp = this->head;
      |                 ^
      |                 struct 
./main.c:67:9: warning: incompatible pointer types initializing 'Node *' with an expression of type 'struct LinkedList_int_Node *' [-Wincompatible-pointer-types]
   67 |                 Node *temp = this->head;
      |                       ^      ~~~~~~~~~~
./main.c:69:14: warning: incompatible pointer types assigning to 'struct LinkedList_int_Node *' from 'struct Node *' [-Wincompatible-pointer-types]
   69 |                 this->head = this->head->next;
      |                            ^ ~~~~~~~~~~~~~~~~
./main.c:75:1: error: must use 'struct' tag to refer to type 'Node'
   75 | Node *newNode = malloc(sizeof(Node))
      | ^
      | struct 
./main.c:75:31: error: use of undeclared identifier 'Node'; did you mean 'modf'?
   75 | Node *newNode = malloc(sizeof(Node))
      |                               ^~~~
      |                               modf
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/math.h:399:15: note: 'modf' declared here
  399 | extern double modf(double, double *);
      |               ^
./main.c:75:7: error: redefinition of 'newNode'
   75 | Node *newNode = malloc(sizeof(Node))
      |       ^
./main.h:29:7: note: previous definition is here
   29 | Node *newNode = malloc(sizeof(Node))
      |       ^
./main.c:75:37: error: expected ';' after top level declarator
   75 | Node *newNode = malloc(sizeof(Node))
      |                                     ^
      |                                     ;
fatal error: too many errors emitted, stopping now [-ferror-limit=]
8 warnings and 20 errors generated.
    [0;31mâœ— C build failed[0m
[0;31mâŒ FAIL: Custom Container[0m

[1;33mTesting State Machine...[0m
  [1/5] Building C++ version...
-- Configuring done (0.1s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/build
[100%] Built target state_machine
    âœ“ C++ build successful
  [2/5] Running C++ version...
State Machine Tests:
  Initial state: Menu
  After Menu -> Playing: Playing
  After Playing -> Paused: Paused
  After Paused -> Playing: Playing
  After Playing -> GameOver: GameOver
  After GameOver -> Playing (invalid): GameOver
  After GameOver -> Menu: Menu
  Total valid transitions: 5

Validation: PASS
    âœ“ C++ execution successful (exit code: 0)
  [3/5] Transpiling to C...
    [Config] Using project-specific args
Error while trying to load a compilation database:
Could not auto-detect compilation database for file "__dummy_for_discovery__.cpp"
No compilation database found in /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine or any parent directory
fixed-compilation-database: Error while opening fixed database: No such file or directory
json-compilation-database: Error while opening JSON database: No such file or directory
Running without flags.
[DEBUG] Installing segfault handler...
[DEBUG] Signal handlers installed
Auto-discovering C++ source files in: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine
Discovered 2 file(s) for transpilation
[DEBUG] About to call Tool.run()...
[1/2] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp.
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp:17:5: error: use of undeclared identifier 'printf'
   17 |     printf("State Machine Tests:\n");
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp:18:5: error: use of undeclared identifier 'printf'
   18 |     printf("  Initial state: %s\n", stateToString(sm.getCurrentState()));
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp:22:5: error: use of undeclared identifier 'printf'
   22 |     printf("  After Menu -> Playing: %s\n", stateToString(sm.getCurrentState()));
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp:25:5: error: use of undeclared identifier 'printf'
   25 |     printf("  After Playing -> Paused: %s\n", stateToString(sm.getCurrentState()));
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp:28:5: error: use of undeclared identifier 'printf'
   28 |     printf("  After Paused -> Playing: %s\n", stateToString(sm.getCurrentState()));
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp:31:5: error: use of undeclared identifier 'printf'
   31 |     printf("  After Playing -> GameOver: %s\n", stateToString(sm.getCurrentState()));
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp:35:5: error: use of undeclared identifier 'printf'
   35 |     printf("  After GameOver -> Playing (invalid): %s\n", stateToString(sm.getCurrentState()));
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp:39:5: error: use of undeclared identifier 'printf'
   39 |     printf("  After GameOver -> Menu: %s\n", stateToString(sm.getCurrentState()));
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp:41:5: error: use of undeclared identifier 'printf'
   41 |     printf("  Total valid transitions: %d\n", sm.getTransitionCount());
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp:48:5: error: use of undeclared identifier 'printf'
   48 |     printf("\nValidation: %s\n", passed ? "PASS" : "FAIL");
      |     ^~~~~~
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp
FileOriginTracker configured with user header paths
Translation unit has 96 top-level declarations
[Bug #30 FIX] Creating independent target ASTContext for C output...
[Bug #30 FIX] Target ASTContext created successfully:
  - ASTContext @ 0x11f849200
  - Target Triple: arm64-apple-darwin24.5.0
  - Language: C11
[Bug #30 FIX] Created C_TU @ 0x11f853b68 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x11f853b68
Translating enum: GameState
  Enumerator: Menu = 0
  Enumerator: Playing = 1
  Enumerator: Paused = 2
  Enumerator: GameOver = 3
  -> C enum GameState with 4 values
Translating class: StateMachine

*** Dumping AST Record Layout
         0 | struct StateMachine
         0 |   GameState currentState
         4 |   int transitionCount
           | [sizeof=8, align=4]
  -> struct StateMachine with 2 fields
  Generating implicit copy constructor
  Generated copy constructor: StateMachine__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 4 method declarations

// Static declarations for all StateMachine methods
static void StateMachine__ctor_1(struct StateMachine *this, GameState initialState);
static void StateMachine_transition(struct StateMachine *this, GameState newState);
static GameState StateMachine_getCurrentState(const struct StateMachine *this);
static int StateMachine_getTransitionCount(const struct StateMachine *this);
static int StateMachine_isValidTransition(const struct StateMachine *this, GameState from, GameState to);

Found variable: initialState
Found variable: newState
Found variable: from
Found variable: to
Analyzing function for RAII: stateToString
  Found 0 local variables
Translating standalone function: stateToString
  Mangled name: stateToString
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: SwitchStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: StringLiteral
[DEBUG Bug#26] No constructor expression detected after unwrapping
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: StringLiteral
[DEBUG Bug#26] No constructor expression detected after unwrapping
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: StringLiteral
[DEBUG Bug#26] No constructor expression detected after unwrapping
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: StringLiteral
[DEBUG Bug#26] No constructor expression detected after unwrapping
[DEBUG Bug#26] translateStmt called, type: DefaultStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: StringLiteral
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
  -> C function 'stateToString' created
  Parameters: 1
  Return type: const char *
Found variable: state
Analyzing function for RAII: main
  Found 2 local variables
Translating standalone function: main
  Mangled name: main
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: sm
      Is a struct/class type
      Is a C++ class: StateMachine
      Found C struct: StateMachine
      Creating C variable declaration
      Has constructor expression
      WARNING: C constructor not found in ctorMap!
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Warning: Method not in methodToCFunc map, generating call anyway: StateMachine::transition
  Generated function name: StateMachine_transition
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: passed
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Warning: Method not in methodTo10 errors generated.
Error while processing /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/main.cpp.
[2/2] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp.
CFunc map, generating call anyway: StateMachine::getCurrentState
  Generated function name: StateMachine_getCurrentState
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Warning: Method not in methodToCFunc map, generating call anyway: StateMachine::getTransitionCount
  Generated function name: StateMachine_getTransitionCount
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ConditionalOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> C function 'main' created
  Parameters: 0
  Return type: int
Found variable: sm
Found variable: passed

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 8 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ConditionalOperator
Generated files:
  transpiled/main.h
  transpiled/main.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp
FileOriginTracker configured with user header paths
Translation unit has 97 top-level declarations
[Bug #30 FIX] Created C_TU @ 0x140029c18 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/03-state-machine/src/StateMachine.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x140029c18
Translating enum: GameState
  Enumerator: Menu = 0
  Enumerator: Playing = 1
  Enumerator: Paused = 2
  Enumerator: GameOver = 3
  -> C enum GameState with 4 values
Translating class: StateMachine

*** Dumping AST Record Layout
         0 | struct StateMachine
         0 |   GameState currentState
         4 |   int transitionCount
           | [sizeof=8, align=4]
  -> struct StateMachine with 2 fields
  Generating implicit copy constructor
  Generated copy constructor: StateMachine__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 4 method declarations

// Static declarations for all StateMachine methods
static void StateMachine__ctor_1(struct StateMachine *this, GameState initialState);
static void StateMachine_transition(struct StateMachine *this, GameState newState);
static GameState StateMachine_getCurrentState(const struct StateMachine *this);
static int StateMachine_getTransitionCount(const struct StateMachine *this);
static int StateMachine_isValidTransition(const struct StateMachine *this, GameState from, GameState to);

Found variable: initialState
Translating method: StateMachine::transition
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Warning: Method not in methodToCFunc map, generating call anyway: StateMachine::isValidTransition
  Generated function name: StateMachine_isValidTransition
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: UnaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
  -> StateMachine_transition with body translated
  -> StateMachine_transition with 2 parameters
Found variable: newState
Translating method: StateMachine::getCurrentState
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> StateMachine_getCurrentState with body translated
  -> StateMachine_getCurrentState with 1 parameters
Translating method: StateMachine::getTransitionCount
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> StateMachine_getTransitionCount with body translated
  -> StateMachine_getTransitionCount with 1 parameters
  -> Already translated, skipping redefinition of StateMachine::isValidTransition
Found variable: from
Found variable: to
Translating constructor: StateMachine::StateMachine
  -> StateMachine__ctor with 2 parameters, 2 statements
Found variable: initialState
  -> Already translated, skipping redefinition of StateMachine::transition
Found variable: newState
  -> Already translated, skipping redefinition of StateMachine::getCurrentState
  -> Already translated, skipping redefinition of StateMachine::getTransitionCount
  -> Already translated, skipping redefinition of StateMachine::isValidTransition
Found variable: from
Found variable: to

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 7 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
Generated files:
  transpiled/src/StateMachine.h
  transpiled/src/StateMachine.c
[DEBUG] Tool.run() returned: 1
[DEBUG] After Tool.run(), about to handle dependencies...

Transpilation completed successfully. Generated 2 file pair(s).
    âœ“ Transpilation successful
  [4/5] Building transpiled C version...
./main.c:13:8: error: unexpected type name 'GameState': expected expression
   13 |                 case GameState::Menu:
      |                      ^
./main.c:13:17: error: expected ':' after 'case'
   13 |                 case GameState::Menu:
      |                               ^~
      |                               :
./main.c:16:8: error: unexpected type name 'GameState': expected expression
   16 |                 case GameState::Playing:
      |                      ^
./main.c:16:17: error: expected ':' after 'case'
   16 |                 case GameState::Playing:
      |                               ^~
      |                               :
./main.c:19:8: error: unexpected type name 'GameState': expected expression
   19 |                 case GameState::Paused:
      |                      ^
./main.c:19:17: error: expected ':' after 'case'
   19 |                 case GameState::Paused:
      |                               ^~
      |                               :
./main.c:22:8: error: unexpected type name 'GameState': expected expression
   22 |                 case GameState::GameOver:
      |                      ^
./main.c:22:17: error: expected ':' after 'case'
   22 |                 case GameState::GameOver:
      |                               ^~
      |                               :
./main.c:46:46: error: unexpected type name 'GameState': expected expression
   46 |         passed = passed && (sm.getCurrentState() == GameState::Menu);
      |                                                     ^
./main.c:46:25: error: no member named 'getCurrentState' in 'struct StateMachine'
   46 |         passed = passed && (sm.getCurrentState() == GameState::Menu);
      |                             ~~ ^
./main.c:47:25: error: no member named 'getTransitionCount' in 'struct StateMachine'
   47 |         passed = passed && (sm.getTransitionCount() == 5);
      |                             ~~ ^
11 errors generated.
    [0;31mâœ— C build failed[0m
[0;31mâŒ FAIL: State Machine[0m

[1;33mTesting Simple Parser...[0m
  [1/5] Building C++ version...
-- Configuring done (0.1s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/build
[100%] Built target simple_parser
    âœ“ C++ build successful
  [2/5] Running C++ version...
Expression Evaluator Tests:
  2 + 3 = 5
  10 - 4 = 6
  2 * 3 + 4 = 10
  20 / 4 = 5
  2 + 3 * 4 = 14

Validation: PASS
    âœ“ C++ execution successful (exit code: 0)
  [3/5] Transpiling to C...
    [Config] Using project-specific args
Error while trying to load a compilation database:
Could not auto-detect compilation database for file "__dummy_for_discovery__.cpp"
No compilation database found in /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser or any parent directory
fixed-compilation-database: Error while opening fixed database: No such file or directory
json-compilation-database: Error while opening JSON database: No such file or directory
Running without flags.
[DEBUG] Installing segfault handler...
[DEBUG] Signal handlers installed
Auto-discovering C++ source files in: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser
Discovered 3 file(s) for transpilation
[DEBUG] About to call Tool.run()...
[1/3] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/main.cpp.
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/main.cpp:7:5: error: use of undeclared identifier 'printf'
    7 |     printf("Expression Evaluator Tests:\n");
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/main.cpp:11:5: error: use of undeclared identifier 'printf'
   11 |     printf("  %s = %d\n", expr1, result1);
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/main.cpp:15:5: error: use of undeclared identifier 'printf'
   15 |     printf("  %s = %d\n", expr2, result2);
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/main.cpp:19:5: error: use of undeclared identifier 'printf'
   19 |     printf("  %s = %d\n", expr3, result3);
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/main.cpp:23:5: error: use of undeclared identifier 'printf'
   23 |     printf("  %s = %d\n", expr4, result4);
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/main.cpp:27:5: error: use of undeclared identifier 'printf'
   27 |     printf("  %s = %d\n", expr5, result5);
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/main.cpp:37:5: error: use of undeclared identifier 'printf'
   37 |     printf("\nValidation: %s\n", passed ? "PASS" : "FAIL");
      |     ^~~~~~
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/main.cpp
FileOriginTracker configured with user header paths
Translation unit has 97 top-level declarations
[Bug #30 FIX] Creating independent target ASTContext for C output...
[Bug #30 FIX] Target ASTContext created successfully:
  - ASTContext @ 0x12685e600
  - Target Triple: arm64-apple-darwin24.5.0
  - Language: C11
[Bug #30 FIX] Created C_TU @ 0x126868968 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/main.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x126868968
Translating enum: TokenType
  Enumerator: Number = 0
  Enumerator: Plus = 1
  Enumerator: Minus = 2
  Enumerator: Multiply = 3
  Enumerator: Divide = 4
  Enumerator: EndOfInput = 5
  -> C enum TokenType with 6 values
Translating class: Token
  -> struct Token with 2 fields
  Generating implicit copy constructor
  Generated copy constructor: Token__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 0 method declarations

// Static declarations for all Token methods
static void Token__ctor_2(struct Token *this, TokenType t, int v);

Translating constructor: Token::Token
  -> Token__ctor with 3 parameters, 2 statements
Found variable: t
Found variable: v
Translating class: Tokenizer
  -> struct Tokenizer with 2 fields
  Generating implicit copy constructor
  Generated copy constructor: Tokenizer__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 4 method declarations

// Static declarations for all Tokenizer methods
static void Tokenizer__ctor_1(struct Tokenizer *this, const int * input);
static void Tokenizer_skipWhitespace(struct Tokenizer *this);
static int Tokenizer_parseNumber(struct Tokenizer *this);
static struct Token Tokenizer_nextToken(struct Tokenizer *this);
static int Tokenizer_hasMore(const struct Tokenizer *this);

Found variable: input
Translating class: ExpressionEvaluator
  -> struct ExpressionEvaluator with 2 fields
  Generating implicit copy constructor
    Calling member copy constructor: Token__ctor_copy for field currentToken
  Generated copy constructor: ExpressionEvaluator__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 4 method declarations

// Static declarations for all ExpressionEvaluator methods
static void ExpressionEvaluator__ctor(struct ExpressionEvaluator *this);
static void ExpressionEvaluator__dtor(struct ExpressionEvaluator *this);
static void ExpressionEvaluator_advance(struct ExpressionEvaluator *this);
static int ExpressionEvaluator_parseTerm(struct ExpressionEvaluator *this);
static int ExpressionEvaluator_parseFactor(struct ExpressionEvaluator *this);
static int ExpressionEvaluator_evaluate(struct ExpressionEvaluator *this, const int * expression);

Translating destructor: ~ExpressionEvaluator
  -> ExpressionEvaluator__dtor with 0 statements
  -> ExpressionEvaluator__dtor created
Found variable: expression
Analyzing function for RAII: main
  Found 12 local variables
  Variable 'eval' has destructor
  Will inject destructors for 1 objects
Translating standalone function: main
  Mangled name: main
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
  [Scope] Tracked object 'eval' in scope depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: eval
      Is a struct/class type
      Is a C++ class: ExpressionEvaluator
      Found C struct: ExpressionEvaluator
      Creating C variable declaration
      Has constructor expression
      WARNING: C constructor not found in ctorMap!
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: expr1
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: result1
  Warning: Method not in methodToCFunc map, generating call anyway: ExpressionEvaluator::evaluate
  Generated function name: ExpressionEvaluator_evaluate
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: expr2
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: result2
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: expr3
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: result3
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: expr4
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: result4
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: expr5
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: result5
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: passed
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: Decl7 errors generated.
Error while processing /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/main.cpp.
[2/3] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp.
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp:14:12: error: use of undeclared identifier 'isdigit'
   14 |     while (isdigit(input[position])) {
      |            ^~~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp:28:9: error: use of undeclared identifier 'isdigit'
   28 |     if (isdigit(input[position])) {
      |         ^~~~~~~
RefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ConditionalOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 1 objects
  [Scope] Injecting 1 destructor(s) at end of scope depth 0
    -> eval destructor injected at scope exit
  [Legacy] Function-level destruction already handled by scope tracking
  -> C function 'main' created
  Parameters: 0
  Return type: int
Found variable: eval
Found variable: expr1
Found variable: result1
Found variable: expr2
Found variable: result2
Found variable: expr3
Found variable: result3
Found variable: expr4
Found variable: result4
Found variable: expr5
Found variable: result5
Found variable: passed
  Detected return statement for early return analysis

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 11 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ConditionalOperator
Generated files:
  transpiled/main.h
  transpiled/main.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp
FileOriginTracker configured with user header paths
Translation unit has 99 top-level declarations
[Bug #30 FIX] Created C_TU @ 0x12686d938 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x12686d938
Translating enum: TokenType
  Enumerator: Number = 0
  Enumerator: Plus = 1
  Enumerator: Minus = 2
  Enumerator: Multiply = 3
  Enumerator: Divide = 4
  Enumerator: EndOfInput = 5
  -> C enum TokenType with 6 values
Translating class: Token

*** Dumping AST Record Layout
         0 | struct Token
         0 |   enum TokenType type
         4 |   int value
           | [sizeof=8, align=4]
  -> struct Token with 2 fields
  Generating implicit copy constructor
  Generated copy constructor: Token__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 0 method declarations

// Static declarations for all Token methods
static void Token__ctor_2(struct Token *this, TokenType t, int v);

Translating constructor: Token::Token
  -> Token__ctor with 3 parameters, 2 statements
Found variable: t
Found variable: v
Translating class: Tokenizer

*** Dumping AST Record Layout
         0 | struct Tokenizer
         0 |   const char * input
         8 |   int position
           | [sizeof=16, align=8]
  -> struct Tokenizer with 2 fields
  Generating implicit copy constructor
  Generated copy constructor: Tokenizer__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 4 method declarations

// Static declarations for all Tokenizer methods
static void Tokenizer__ctor_1(struct Tokenizer *this, const int * input);
static void Tokenizer_skipWhitespace(struct Tokenizer *this);
static int Tokenizer_parseNumber(struct Tokenizer *this);
static struct Token Tokenizer_nextToken(struct Tokenizer *this);
static int Tokenizer_hasMore(const struct Tokenizer *this);

Translating method: Tokenizer::skipWhitespace
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: WhileStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: UnaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Tokenizer_skipWhitespace with body translated
  -> Tokenizer_skipWhitespace with 1 parameters
Translating method: Tokenizer::parseNumber
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: value
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: DeclRefExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Tokenizer_parseNumber with body translated
  -> Tokenizer_parseNumber with 1 parameters
Found variable: input
Translating method: Tokenizer::nextToken
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  Warning: Method not in methodToCFunc map, generating call anyway: Tokenizer::skipWhitespace
  Generated function name: Tokenizer_skipWhitespace
[DEBUG Bug#26] translateStmt called, type: IfStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in ctorMap (size: 3)
[DEBUG Bug#26] Found in ctorMap! C function: Token__ctor
[DEBUG Bug#26] Returning compound statement with 3 statements
  [Scope] Exiting scope at depth 1 with 0 objects
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: current
[DEBUG Bug#26] translateStmt called, type: SwitchStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in ctorMap (size: 3)
[DEBUG Bug#26] Found in ctorMap! C function: Token__ctor
[DEBUG Bug#26] Returning compound statement with 3 statements
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in ctorMap (size: 3)
[DEBUG Bug#26] Found in ctorMap! C function: Token__ctor
[DEBUG Bug#26] Returning compound statement with 3 statements
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in ctorMap (size: 3)
[DEBUG Bug#26] Found in ctorMap! C function: Token__ctor
[DEBUG Bug#26] Returning compound statement with 3 statements
[DEBUG Bug#26] translateStmt called, type: CaseStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in ctorMap (size: 3)
[DEBUG Bug#26] Found in ctorMap! C function: Token__ctor
[DEBUG Bug#26] Returning compound statement with 3 statements
[DEBUG Bug#26] translateStmt called, type: DefaultStmt
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: CXXFunctionalCastExpr
[DEBUG Bug#26]   Found CXXFunctionalCastExpr, checking subexpr
[DEBUG Bug#26]   Found CCE inside CXXFunctionalCastExpr
[DEBUG Bug#26] Constructor expression detected!
[DEBUG Bug#26] Constructor: Token
[DEBUG Bug#26] isCopyConstructor: 0
[DEBUG Bug#26] isMoveConstructor: 0
[DEBUG Bug#26] NumArgs: 2
[DEBUG Bug#26] Looking up in ctorMap (size: 3)
[DEBUG Bug#26] Found in ctorMap! C function: Token__ctor
[DEBUG Bug#26] Returning compound statement with 3 statements
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Tokenizer_nextToken with body translated
  -> Tokenizer_nextToken with 1 parameters
Translating method: Tokenizer::hasMore
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: pos
[DEBUG Bug#26] translateStmt called, type: WhileStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: UnaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: BinaryOperator
[DEBUG Bug#26] No constructor exp2 errors generated.
Error while processing /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/Tokenizer.cpp.
[3/3] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/ExpressionEvaluator.cpp.
ression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Tokenizer_hasMore with body translated
  -> Tokenizer_hasMore with 1 parameters
Translating constructor: Tokenizer::Tokenizer
  -> Tokenizer__ctor with 2 parameters, 2 statements
Found variable: input
  -> Already translated, skipping redefinition of Tokenizer::skipWhitespace
  -> Already translated, skipping redefinition of Tokenizer::parseNumber
Found variable: value
  -> Already translated, skipping redefinition of Tokenizer::nextToken
Found variable: value
Found variable: current
  -> Already translated, skipping redefinition of Tokenizer::hasMore
Found variable: pos

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 12 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: DeclRefExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: DeclRefExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: DeclRefExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: DeclRefExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: DeclRefExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: DeclRefExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: BinaryOperator
Generated files:
  transpiled/src/Tokenizer.h
  transpiled/src/Tokenizer.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/ExpressionEvaluator.cpp
FileOriginTracker configured with user header paths
Translation unit has 113 top-level declarations
[Bug #30 FIX] Created C_TU @ 0x125055098 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/04-simple-parser/src/ExpressionEvaluator.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x125055098
Translating enum: TokenType
  Enumerator: Number = 0
  Enumerator: Plus = 1
  Enumerator: Minus = 2
  Enumerator: Multiply = 3
  Enumerator: Divide = 4
  Enumerator: EndOfInput = 5
  -> C enum TokenType with 6 values
Translating class: Token
  -> struct Token with 2 fields
  Generating implicit copy constructor
  Generated copy constructor: Token__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 0 method declarations

// Static declarations for all Token methods
static void Token__ctor_2(struct Token *this, TokenType t, int v);

Translating constructor: Token::Token
  -> Token__ctor with 3 parameters, 2 statements
Found variable: t
Found variable: v
Translating class: Tokenizer
  -> struct Tokenizer with 2 fields
  Generating implicit copy constructor
  Generated copy constructor: Tokenizer__ctor_copy
  [Phase 31-03] Generated 1 constructor, 0 destructor, 4 method declarations

// Static declarations for all Tokenizer methods
static void Tokenizer__ctor_1(struct Tokenizer *this, const int * input);
static void Tokenizer_skipWhitespace(struct Tokenizer *this);
static int Tokenizer_parseNumber(struct Tokenizer *this);
static struct Token Tokenizer_nextToken(struct Tokenizer *this);
static int Tokenizer_hasMore(const struct Tokenizer *this);

Found variable: input
Translating class: ExpressionEvaluator
  -> struct ExpressionEvaluator with 2 fields
  Generating implicit copy constructor
    Calling member copy constructor: Token__ctor_copy for field currentToken
  Generated copy constructor: ExpressionEvaluator__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 4 method declarations

// Static declarations for all ExpressionEvaluator methods
static void ExpressionEvaluator__ctor(struct ExpressionEvaluator *this);
static void ExpressionEvaluator__dtor(struct ExpressionEvaluator *this);
static void ExpressionEvaluator_advance(struct ExpressionEvaluator *this);
static int ExpressionEvaluator_parseTerm(struct ExpressionEvaluator *this);
static int ExpressionEvaluator_parseFactor(struct ExpressionEvaluator *this);
static int ExpressionEvaluator_evaluate(struct ExpressionEvaluator *this, const int * expression);

Translating method: ExpressionEvaluator::advance
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ExprWithCleanups
[DEBUG Bug#26] translateStmt called, type: CXXOperatorCallExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: MaterializeTemporaryExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  Warning: Method not in methodToCFunc map, generating call anyway: Tokenizer::nextToken
  Generated function name: Tokenizer_nextToken
  [Scope] Exiting scope at depth 0 with 0 objects
  -> ExpressionEvaluator_advance with body translated
  -> ExpressionEvaluator_advance with 1 parameters
Translating method: ExpressionEvaluator::parseTerm
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: left
  Warning: Method not in methodToCFunc map, generating call anyway: ExpressionEvaluator::parseFactor
  Generated function name: ExpressionEvaluator_parseFactor
[DEBUG Bug#26] translateStmt called, type: WhileStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: op
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  Warning: Method not in methodToCFunc map, generating call anyway: ExpressionEvaluator::advance
  Generated function name: ExpressionEvaluator_advance
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: right
[DEBUG Bug#26] translateStmt called, type: IfStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 2
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 2 with 0 objects
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 2
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 2 with 0 objects
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: DeclRefExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> ExpressionEvaluator_parseTerm with body translated
  -> ExpressionEvaluator_parseTerm with 1 parameters
Translating method: ExpressionEvaluator::parseFactor
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: IfStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: value
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: DeclRefExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: IntegerLiteral
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> ExpressionEvaluator_parseFactor with body translated
  -> ExpressionEvaluator_parseFactor with 1 parameters
Translating destructor: ~ExpressionEvaluator
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: CXXDeleteExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  Translating CXXDeleteExpr to free()
  [Scope] Exiting scope at depth 0 with 0 objects
  -> ExpressionEvaluator__dtor with 1 statements
  -> ExpressionEvaluator__dtor created
Translating method: ExpressionEvaluator::evaluate
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: IfStmt
  Translating nullptr to NULL
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: CXXDeleteExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
  Translating CXXDeleteExpr to free()
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: CXXNewExpr
[DEBUG Bug#26] translateStmt called, type: CXXConstructExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Translating CXXNewExpr to malloc()
  Translating CXXNewExpr to malloc()
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: result
  Warning: Method not in methodToCFunc map, generating call anyway: ExpressionEvaluator::parseTerm
  Generated function name: ExpressionEvaluator_parseTerm
[DEBUG Bug#26] translateStmt called, type: WhileStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: op
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: right
[DEBUG Bug#26] translateStmt called, type: IfStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 2
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 2 with 0 objects
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 2
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 2 with 0 objects
  [Scope] Exiting scope at depth 1 with 0 objects
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: DeclRefExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> ExpressionEvaluator_evaluate with body translated
  -> ExpressionEvaluator_evaluate with 2 parameters
Found variable: expression
Translating constructor: ExpressionEvaluator::ExpressionEvaluator
  Translating nullptr to NULL
  -> ExpressionEvaluator__ctor with 1 parameters, 2 statements
  -> Already translated, skipping redefinition of ~ExpressionEvaluator
  -> Already translated, skipping redefinition of ExpressionEvaluator::advance
  -> Already translated, skipping redefinition of ExpressionEvaluator::parseFactor
Found variable: value
  -> Already translated, skipping redefinition of ExpressionEvaluator::parseTerm
Found variable: left
Found variable: op
Found variable: right
  -> Already translated, skipping redefinition of ExpressionEvaluator::evaluate
Found variable: expression
Found variable: result
Found variable: op
Found variable: right

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 15 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: IntegerLiteral
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
Generated files:
  transpiled/src/ExpressionEvaluator.h
  transpiled/src/ExpressionEvaluator.c
[DEBUG] Tool.run() returned: 1
[DEBUG] After Tool.run(), about to handle dependencies...

Transpilation completed successfully. Generated 3 file pair(s).
    âœ“ Transpilation successful
  [4/5] Building transpiled C version...
./src/ExpressionEvaluator.c:33:3: error: call to undeclared function 'ExpressionEvaluator_advance'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]
   33 |                 ExpressionEvaluator_advance(this);
      |                 ^
./src/ExpressionEvaluator.c:52:3: error: call to undeclared function 'ExpressionEvaluator_advance'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]
   52 |                 ExpressionEvaluator_advance(this);
      |                 ^
./src/ExpressionEvaluator.c:74:34: error: use of undeclared identifier 'Tokenizer'
   74 |         this->tokenizer = malloc(sizeof(Tokenizer));
      |                                         ^
./src/ExpressionEvaluator.c:75:2: error: call to undeclared function 'ExpressionEvaluator_advance'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]
   75 |         ExpressionEvaluator_advance(this);
      |         ^
./src/ExpressionEvaluator.c:98:36: error: too few arguments to function call, expected 3, have 2
   98 |         Token__ctor(&this->currentToken, 5);
      |         ~~~~~~~~~~~                       ^
./src/ExpressionEvaluator.c:11:6: note: 'Token__ctor' declared here
   11 | void Token__ctor(struct Token * this, TokenType t, int v) {
      |      ^           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
5 errors generated.
./src/Tokenizer.c:41:33: error: too few arguments to function call, expected 3, have 2
   41 |                         Token__ctor(&__return_temp, 5);
      |                         ~~~~~~~~~~~                  ^
./src/Tokenizer.c:11:6: note: 'Token__ctor' declared here
   11 | void Token__ctor(struct Token * this, TokenType t, int v) {
      |      ^           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./src/Tokenizer.c:54:34: error: too few arguments to function call, expected 3, have 2
   54 |                                 Token__ctor(&__return_temp, 1);
      |                                 ~~~~~~~~~~~                  ^
./src/Tokenizer.c:11:6: note: 'Token__ctor' declared here
   11 | void Token__ctor(struct Token * this, TokenType t, int v) {
      |      ^           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./src/Tokenizer.c:62:34: error: too few arguments to function call, expected 3, have 2
   62 |                                 Token__ctor(&__return_temp, 2);
      |                                 ~~~~~~~~~~~                  ^
./src/Tokenizer.c:11:6: note: 'Token__ctor' declared here
   11 | void Token__ctor(struct Token * this, TokenType t, int v) {
      |      ^           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./src/Tokenizer.c:70:34: error: too few arguments to function call, expected 3, have 2
   70 |                                 Token__ctor(&__return_temp, 3);
      |                                 ~~~~~~~~~~~                  ^
./src/Tokenizer.c:11:6: note: 'Token__ctor' declared here
   11 | void Token__ctor(struct Token * this, TokenType t, int v) {
      |      ^           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./src/Tokenizer.c:78:34: error: too few arguments to function call, expected 3, have 2
   78 |                                 Token__ctor(&__return_temp, 4);
      |                                 ~~~~~~~~~~~                  ^
./src/Tokenizer.c:11:6: note: 'Token__ctor' declared here
   11 | void Token__ctor(struct Token * this, TokenType t, int v) {
      |      ^           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./src/Tokenizer.c:86:34: error: too few arguments to function call, expected 3, have 2
   86 |                                 Token__ctor(&__return_temp, 5);
      |                                 ~~~~~~~~~~~                  ^
./src/Tokenizer.c:11:6: note: 'Token__ctor' declared here
   11 | void Token__ctor(struct Token * this, TokenType t, int v) {
      |      ^           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
6 errors generated.
    [0;31mâœ— C build failed[0m
[0;31mâŒ FAIL: Simple Parser[0m

[1;33mTesting Game Logic...[0m
  [1/5] Building C++ version...
-- Configuring done (0.1s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/build
[100%] Built target game_logic
    âœ“ C++ build successful
  [2/5] Running C++ version...
Game Logic Tests:
  Player: pos=(100.0, 100.0), health=100, score=0
  Enemy: pos=(150.0, 100.0), damage=10
  Initial collision: false
  After enemy moves to (110, 100): collision = true
  Player takes 10 damage
  Player health after damage: 90
  Player score after +100: 100
  Point (115, 115) inside player: true

Validation: PASS
    âœ“ C++ execution successful (exit code: 0)
  [3/5] Transpiling to C...
    [Config] Using project-specific args
Error while trying to load a compilation database:
Could not auto-detect compilation database for file "__dummy_for_discovery__.cpp"
No compilation database found in /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic or any parent directory
fixed-compilation-database: Error while opening fixed database: No such file or directory
json-compilation-database: Error while opening JSON database: No such file or directory
Running without flags.
[DEBUG] Installing segfault handler...
[DEBUG] Signal handlers installed
Auto-discovering C++ source files in: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic
Discovered 5 file(s) for transpilation
[DEBUG] About to call Tool.run()...
[1/5] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp.
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp:7:5: error: use of undeclared identifier 'printf'
    7 |     printf("Game Logic Tests:\n");
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp:13:5: error: use of undeclared identifier 'printf'
   13 |     printf("  Player: pos=(%.1f, %.1f), health=%d, score=%d\n",
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp:15:5: error: use of undeclared identifier 'printf'
   15 |     printf("  Enemy: pos=(%.1f, %.1f), damage=%d\n",
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp:20:5: error: use of undeclared identifier 'printf'
   20 |     printf("  Initial collision: %s\n", colliding1 ? "true" : "false");
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp:25:5: error: use of undeclared identifier 'printf'
   25 |     printf("  After enemy moves to (110, 100): collision = %s\n",
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp:29:5: error: use of undeclared identifier 'printf'
   29 |     printf("  Player takes %d damage\n", enemy.getDamage());
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp:31:5: error: use of undeclared identifier 'printf'
   31 |     printf("  Player health after damage: %d\n", player.getHealth());
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp:35:5: error: use of undeclared identifier 'printf'
   35 |     printf("  Player score after +100: %d\n", player.getScore());
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp:39:5: error: use of undeclared identifier 'printf'
   39 |     printf("  Point (115, 115) inside player: %s\n", inside ? "true" : "false");
      |     ^~~~~~
/Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp:49:5: error: use of undeclared identifier 'printf'
   49 |     printf("\nValidation: %s\n", passed ? "PASS" : "FAIL");
      |     ^~~~~~
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp
FileOriginTracker configured with user header paths
Translation unit has 97 top-level declarations
[Bug #30 FIX] Creating independent target ASTContext for C output...
[Bug #30 FIX] Target ASTContext created successfully:
  - ASTContext @ 0x14b03d200
  - Target Triple: arm64-apple-darwin24.5.0
  - Language: C11
[Bug #30 FIX] Created C_TU @ 0x14b046b68 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x14b046b68
Translating class: Entity
  -> struct Entity with 5 fields
  Generating implicit copy constructor
  Generated copy constructor: Entity__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 6 method declarations

// Static declarations for all Entity methods
static void Entity__ctor_4(struct Entity *this, float x, float y, float width, float height);
static void Entity__dtor(struct Entity *this);
static float Entity_getX(const struct Entity *this);
static float Entity_getY(const struct Entity *this);
static float Entity_getWidth(const struct Entity *this);
static float Entity_getHeight(const struct Entity *this);
static void Entity_setPosition(struct Entity *this, float newX, float newY);
static void Entity_update(struct Entity *this, float deltaTime);

Generating vtable for polymorphic class: Entity
Vtable struct generated:
struct Entity_vtable {
    const struct __class_type_info *type_info;  /**< RTTI type_info pointer (Itanium ABI vtable[-1]) */
    void (*destructor)(struct Entity *this);
    void (*update)(struct Entity *this, float deltaTime);
};

Vtable instance generated:

// Vtable instance for Entity
struct Entity_vtable Entity_vtable_instance = {
    .type_info = &Entity_type_info,  // RTTI type_info (placeholder)
    .destructor = Entity_destructor,
    .update = Entity_update,
};

Found variable: x
Found variable: y
Found variable: width
Found variable: height
Translating destructor: ~Entity
  -> Entity__dtor with 0 statements
  -> Entity__dtor created
Found variable: newX
Found variable: newY
Found variable: deltaTime
Translating class: Player
  -> struct Player with 7 fields
  Generating implicit copy constructor
    TODO: Call base copy constructor: Entity__ctor_copy
  Generated copy constructor: Player__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 5 method declarations

// Static declarations for all Player methods
static void Player__ctor_2(struct Player *this, float x, float y);
static void Player__dtor(struct Player *this);
static int Player_getHealth(const struct Player *this);
static int Player_getScore(const struct Player *this);
static void Player_takeDamage(struct Player *this, int damage);
static void Player_addScore(struct Player *this, int points);
static void Player_update(struct Player *this, float deltaTime);

Generating vtable for polymorphic class: Player
Vtable struct generated:
struct Player_vtable {
    const struct __class_type_info *type_info;  /**< RTTI type_info pointer (Itanium ABI vtable[-1]) */
    void (*destructor)(struct Player *this);
    void (*update)(struct Player *this, float deltaTime);
};

Vtable instance generated:

// Vtable instance for Player
struct Player_vtable Player_vtable_instance = {
    .type_info = &Player_type_info,  // RTTI type_info (placeholder)
    .destructor = Player_destructor,
    .update = Player_update,
};

Found variable: x
Found variable: y
Translating destructor: ~Player
  Emitting base destructor call for: Entity
  -> Added base destructor call to Entity__dtor
  -> Player__dtor with 1 statements
  -> Player__dtor created
Found variable: damage
Found variable: points
Found variable: deltaTime
Translating class: Enemy
  -> struct Enemy with 7 fields
  Generating implicit copy constructor
    TODO: Call base copy constructor: Entity__ctor_copy
  Generated copy constructor: Enemy__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 2 method declarations

// Static declarations for all Enemy methods
static void Enemy__ctor_2(struct Enemy *this, float x, float y);
static void Enemy__dtor(struct Enemy *this);
static int Enemy_getDamage(const struct Enemy *this);
static void Enemy_update(struct Enemy *this, float deltaTime);

Generating vtable for polymorphic class: Enemy
Vtable struct generated:
struct Enemy_vtable {
    const struct __class_type_info *type_info;  /**< RTTI type_info pointer (Itanium ABI vtable[-1]) */
    void (*destructor)(struct Enemy *this);
    void (*update)(struct Enemy *this, float deltaTime);
};

Vtable instance generated:

// Vtable instance for Enemy
struct Enemy_vtable Enemy_vtable_instance = {
    .type_info = &Enemy_type_info,  // RTTI type_info (placeholder)
    .destructor = Enemy_destructor,
    .update = Enemy_update,
};

Found variable: x
Found variable: y
Translating destructor: ~Enemy
  Emitting base destructor call for: Entity
  -> Added base destructor call to Entity__dtor
  -> Enemy__dtor with 1 statements
  -> Enemy__dtor created
Found variable: deltaTime
Translating class: CollisionDetector
  -> struct CollisionDetector with 0 fields
  Generating implicit default constructor
  Generated default constructor: CollisionDetector__ctor_default
  Generating implicit copy constructor
  Generated copy constructor: CollisionDetector__ctor_copy
  [Phase 31-03] Generated 0 constructor, 0 destructor, 2 method declarations

// Static declarations for all CollisionDetector methods
static int CollisionDetector_checkCollision(struct CollisionDetector *this, const struct Entity * a, const struct Entity * b);
static int CollisionDetector_pointInside(struct CollisionDetector *this, float px, float py, const struct Entity * entity);

Found variable: a
Found variable: b
Found variable: px
Found variable: py
Found variable: entity
Analyzing function for RAII: main
  Found 6 local variables
  Variable 'player' has destructor
  Variable 'enemy' has destructor
  Will inject destructors for 2 objects
Translating standalone function: main
  Mangled name: main
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
  [Bug #8] Skipping statement containing RecoveryExpr
  [Scope] Tracked object 'player' in scope depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: player
      Is a struct/class type
      Is a C++ class: Player
      Found C struct: Player
      Creating C variable declaration
      Has constructor expression
      WARNING: C constructor not found in ctorMap!
  [Scope] Tracked object 'enemy' in scope depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: enemy
      Is a struct/class type
      Is a C++ class: Enemy
      Found C struct: Enemy
      Creating C variable declaration
      Has constructor expression
      WARNING: C constructor not found in ctorMap!
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: colliding1
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: FloatingLiteral
[DEBUG Bug#26] translateStmt called, type: FloatingLiteral
  Warning: Method not in methodToCFunc map, generating call anyway: Entity::setPosition
  Generated function name: Entity_setPosition
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: colliding2
  [Bug #8] Skipping statement containing RecoveryExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Warning: Method not in methodToCFunc map, generating call anyway: Enemy::getDamage
  Generated function name: Enemy_getDamage
  Warning: Method not in methodToCFunc map, generating call anyway: Player::takeDamage
  Generated function name: Player_takeDamage
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
  Warning: Method not in methodToCFunc map, generating call anyway: Player::addScore
  Generated function name: Player_addScore
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: inside
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: passed
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Warning: Method not in methodToCFunc map, generating call anyway: Player::getHealth
  Generated function name: Player_getHealth
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: CXXMemberCallExpr
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  Warning: Method not in methodToCFunc map, generating call anyway: Player::getScore
  Generated function name: Player_getScore
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: CXXBoolLiteralExpr
[DEBUG Bug#26] translateStmt called,10 errors generated.
Error while processing /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/main.cpp.
[2/5] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp.
 type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: CXXBoolLiteralExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ParenExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: CXXBoolLiteralExpr
  [Bug #8] Skipping statement containing RecoveryExpr
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ConditionalOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 2 objects
  [Scope] Injecting 2 destructor(s) at end of scope depth 0
    -> enemy destructor injected at scope exit
    -> player destructor injected at scope exit
  [Legacy] Function-level destruction already handled by scope tracking
  -> C function 'main' created
  Parameters: 0
  Return type: int
Found variable: player
Found variable: enemy
Found variable: colliding1
Found variable: colliding2
Found variable: inside
Found variable: passed
  Detected return statement for early return analysis

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 19 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ConditionalOperator
Generated files:
  transpiled/main.h
  transpiled/main.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp
FileOriginTracker configured with user header paths
Translation unit has 112 top-level declarations
[Bug #30 FIX] Created C_TU @ 0x14b04ecb0 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Player.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x14b04ecb0
Translating class: Entity
  -> struct Entity with 5 fields
  Generating implicit copy constructor
  Generated copy constructor: Entity__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 6 method declarations

// Static declarations for all Entity methods
static void Entity__ctor_4(struct Entity *this, float x, float y, float width, float height);
static void Entity__dtor(struct Entity *this);
static float Entity_getX(const struct Entity *this);
static float Entity_getY(const struct Entity *this);
static float Entity_getWidth(const struct Entity *this);
static float Entity_getHeight(const struct Entity *this);
static void Entity_setPosition(struct Entity *this, float newX, float newY);
static void Entity_update(struct Entity *this, float deltaTime);

Generating vtable for polymorphic class: Entity
Vtable struct generated:
struct Entity_vtable {
    const struct __class_type_info *type_info;  /**< RTTI type_info pointer (Itanium ABI vtable[-1]) */
    void (*destructor)(struct Entity *this);
    void (*update)(struct Entity *this, float deltaTime);
};

Vtable instance generated:

// Vtable instance for Entity
struct Entity_vtable Entity_vtable_instance = {
    .type_info = &Entity_type_info,  // RTTI type_info (placeholder)
    .destructor = Entity_destructor,
    .update = Entity_update,
};

Found variable: x
Found variable: y
Found variable: width
Found variable: height
Translating destructor: ~Entity
  -> Entity__dtor with 0 statements
  -> Entity__dtor created
Found variable: newX
Found variable: newY
Found variable: deltaTime
Translating class: Player
  -> struct Player with 7 fields
  Generating implicit copy constructor
    TODO: Call base copy constructor: Entity__ctor_copy
  Generated copy constructor: Player__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 5 method declarations

// Static declarations for all Player methods
static void Player__ctor_2(struct Player *this, float x, float y);
static void Player__dtor(struct Player *this);
static int Player_getHealth(const struct Player *this);
static int Player_getScore(const struct Player *this);
static void Player_takeDamage(struct Player *this, int damage);
static void Player_addScore(struct Player *this, int points);
static void Player_update(struct Player *this, float deltaTime);

Generating vtable for polymorphic class: Player
Vtable struct generated:
struct Player_vtable {
    const struct __class_type_info *type_info;  /**< RTTI type_info pointer (Itanium ABI vtable[-1]) */
    void (*destructor)(struct Player *this);
    void (*update)(struct Player *this, float deltaTime);
};

Vtable instance generated:

// Vtable instance for Player
struct Player_vtable Player_vtable_instance = {
    .type_info = &Player_type_info,  // RTTI type_info (placeholder)
    .destructor = Player_destructor,
    .update = Player_update,
};

Found variable: x
Found variable: y
Translating destructor: ~Player
  Emitting base destructor call for: Entity
  -> Added base destructor call to Entity__dtor
  -> Player__dtor with 1 statements
  -> Player__dtor created
Translating method: Player::getHealth
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Player_getHealth with body translated
  -> Player_getHealth with 1 parameters
Translating method: Player::getScore
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Player_getScore with body translated
  -> Player_getScore with 1 parameters
Translating method: Player::takeDa[3/5] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Entity.cpp.
mage
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: CompoundAssignOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: IfStmt
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 1
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: IntegerLiteral
  [Scope] Exiting scope at depth 1 with 0 objects
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Player_takeDamage with body translated
  -> Player_takeDamage with 2 parameters
Found variable: damage
Translating method: Player::addScore
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: CompoundAssignOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Player_addScore with body translated
  -> Player_addScore with 2 parameters
Found variable: points
Skipping virtual method (handled by vtable): Player::update
Found variable: deltaTime
Translating constructor: Player::Player
  -> Injected vptr initialization
  Translating base class initializer: Entity
  Warning: Base constructor function not found
  -> Player__ctor with 3 parameters, 3 statements
Found variable: x
Found variable: y
  -> Already translated, skipping redefinition of ~Player
  -> Already translated, skipping redefinition of Player::getHealth
  -> Already translated, skipping redefinition of Player::getScore
  -> Already translated, skipping redefinition of Player::takeDamage
Found variable: damage
  -> Already translated, skipping redefinition of Player::addScore
Found variable: points
Skipping virtual method (handled by vtable): Player::update
Found variable: deltaTime

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 11 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
Generated files:
  transpiled/src/Player.h
  transpiled/src/Player.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Entity.cpp
FileOriginTracker configured with user header paths
Translation unit has 111 top-level declarations
[Bug #30 FIX] Created C_TU @ 0x14b18e9a8 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Entity.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x14b18e9a8
Translating class: Entity
  -> struct Entity with 5 fields
  Generating implicit copy constructor
  Generated copy constructor: Entity__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 6 method declarations

// Static declarations for all Entity methods
static void Entity__ctor_4(struct Entity *this, float x, float y, float width, float height);
static void Entity__dtor(struct Entity *this);
static float Entity_getX(const struct Entity *this);
static float Entity_getY(const struct Entity *this);
static float Entity_getWidth(const struct Entity *this);
static float Entity_getHeight(const struct Entity *this);
static void Entity_setPosition(struct Entity *this, float newX, float newY);
static void Entity_update(struct Entity *this, float deltaTime);

Generating vtable for polymorphic class: Entity
Vtable struct generated:
struct Entity_vtable {
    const struct __class_type_info *type_info;  /**< RTTI type_info pointer (Itanium ABI vtable[-1]) */
    void (*destructor)(struct Entity *this);
    void (*update)(struct Entity *this, float deltaTime);
};

Vtable instance generated:

// Vtable instance for Entity
struct Entity_vtable Entity_vtable_instance = {
    .type_info = &Entity_type_info,  // RTTI type_info (placeholder)
    .destructor = Entity_destructor,
    .update = Entity_update,
};

Found variable: x
Found variable: y
Found variable: width
Found variable: height
Translating destructor: ~Entity
  -> Entity__dtor with 0 statements
  -> Entity__dtor created
Translating method: Entity::getX
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Entity_getX with body translated
  -> Entity_getX with 1 parameters
Translating method: Entity::getY
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Entity_getY with body translated
  -> Entity_getY with 1 parameters
Translating method: Entity::getWidth
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Entity_getWidth with body translated
  -> Entity_getWidth with 1 parameters
Translating method: Entity::getHeight
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Entity_getHeight with body translated
  -> Entity_getHeight with 1 parameters
Translating method: Entity::setPosition
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExp[4/5] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/CollisionDetector.cpp.
r
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
[DEBUG Bug#26] translateStmt called, type: BinaryOperator
[DEBUG Bug#26] translateStmt called, type: MemberExpr
[DEBUG Bug#26] translateStmt called, type: CXXThisExpr
[DEBUG Bug#26] translateStmt called, type: ImplicitCastExpr
[DEBUG Bug#26] translateStmt called, type: DeclRefExpr
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Entity_setPosition with body translated
  -> Entity_setPosition with 3 parameters
Found variable: newX
Found variable: newY
Found variable: deltaTime
Translating constructor: Entity::Entity
  -> Injected vptr initialization
  -> Entity__ctor with 5 parameters, 5 statements
Found variable: x
Found variable: y
Found variable: width
Found variable: height
  -> Already translated, skipping redefinition of ~Entity
  -> Already translated, skipping redefinition of Entity::getX
  -> Already translated, skipping redefinition of Entity::getY
  -> Already translated, skipping redefinition of Entity::getWidth
  -> Already translated, skipping redefinition of Entity::getHeight
  -> Already translated, skipping redefinition of Entity::setPosition
Found variable: newX
Found variable: newY

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 9 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
Generated files:
  transpiled/src/Entity.h
  transpiled/src/Entity.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/CollisionDetector.cpp
FileOriginTracker configured with user header paths
Translation unit has 94 top-level declarations
[Bug #30 FIX] Created C_TU @ 0x14b189788 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/CollisionDetector.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x14b189788
Translating class: Entity
  -> struct Entity with 5 fields
  Generating implicit copy constructor
  Generated copy constructor: Entity__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 6 method declarations

// Static declarations for all Entity methods
static void Entity__ctor_4(struct Entity *this, float x, float y, float width, float height);
static void Entity__dtor(struct Entity *this);
static float Entity_getX(const struct Entity *this);
static float Entity_getY(const struct Entity *this);
static float Entity_getWidth(const struct Entity *this);
static float Entity_getHeight(const struct Entity *this);
static void Entity_setPosition(struct Entity *this, float newX, float newY);
static void Entity_update(struct Entity *this, float deltaTime);

Generating vtable for polymorphic class: Entity
Vtable struct generated:
struct Entity_vtable {
    const struct __class_type_info *type_info;  /**< RTTI type_info pointer (Itanium ABI vtable[-1]) */
    void (*destructor)(struct Entity *this);
    void (*update)(struct Entity *this, float deltaTime);
};

Vtable instance generated:

// Vtable instance for Entity
struct Entity_vtable Entity_vtable_instance = {
    .type_info = &Entity_type_info,  // RTTI type_info (placeholder)
    .destructor = Entity_destructor,
    .update = Entity_update,
};

Found variable: x
Found variable: y
Found variable: width
Found variable: height
Translating destructor: ~Entity
  -> Entity__dtor with 0 statements
  -> Entity__dtor created
Found variable: newX
Found variable: newY
Found variable: deltaTime
Translating class: CollisionDetector
  -> struct CollisionDetector with 0 fields
  Generating implicit default constructor
  Generated default constructor: CollisionDetector__ctor_default
  Generating implicit copy constructor
  Generated copy constructor: CollisionDetector__ctor_copy
  [Phase 31-03] Generated 0 constructor, 0 destructor, 2 method declarations

// Static declarations for all CollisionDetector methods
static int CollisionDetector_checkCollision(struct CollisionDetector *this, const struct Entity * a, const struct Entity * b);
static int CollisionDetector_pointInside(struct CollisionDetector *this, float px, float py, const struct Entity * entity);

Translating method: CollisionDetector::checkCollision
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: aLeft
  Warning: Method not in methodToCFunc map, generating call anyway: Entity::getX
  Generated function name: Entity_getX
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: aRight
  Warning: Method not in methodToCFunc map, generating call anyway: Entity::getWidth
  Generated function name: Entity_getWidth
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: aTop
  Warning: Method not in methodToCFunc map, generating call anyway: Entity::getY
  Generated function name: Entity_getY
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: aBottom
  Warning: Method not in methodToCFunc map, generating call anyway: Entity::getHeight
  Generated function name: Entity_getHeight
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: bLeft
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: bRight
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: bTop
[DEBUG Bug#26] translateStmt called, type: DeclStmt
  [Translating DeclStmt]
    Variable: bBottom
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: UnaryOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> CollisionDetector_checkCollision with body translated
  -> CollisionDetector_checkCollision with 3 parameters
Found variable: a
Found variable: b
Translating method: CollisionDetector::pointInside
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: BinaryOperator
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> CollisionDetector_pointInside with body translated
  -> CollisionDetector_pointInside with 4 parameters
Found variable: px
Found variable: py
Found variable: entity
  -> Already translated, skipping redefinition of CollisionDetector::checkCollision
Found variable: a
Found variable: b
Found variable: aLeft
Foun[5/5] Processing file /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Enemy.cpp.
d variable: aRight
Found variable: aTop
Found variable: aBottom
Found variable: bLeft
Found variable: bRight
Found variable: bTop
Found variable: bBottom
  -> Already translated, skipping redefinition of CollisionDetector::pointInside
Found variable: px
Found variable: py
Found variable: entity

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 12 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: UnaryOperator
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: BinaryOperator
Generated files:
  transpiled/src/CollisionDetector.h
  transpiled/src/CollisionDetector.c
Parsed file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Enemy.cpp
FileOriginTracker configured with user header paths
Translation unit has 109 top-level declarations
[Bug #30 FIX] Created C_TU @ 0x14b07d3b0 for file: /Users/alexanderfedin/Projects/hapyy/hupyy-cpp-to-c/tests/real-world/simple-validation/05-game-logic/src/Enemy.cpp
Virtual method support initialized
Template monomorphization enabled (limit: 1000 instantiations)
Exception handling support initialized (SJLJ model)
RTTI support initialized (typeid and dynamic_cast)
Multidimensional subscript operator support initialized (C++23)
Static operator() and operator[] support initialized (C++23)
[[assume]] attribute support initialized (C++23)
Deducing this / explicit object parameter support initialized (C++23 P0847R7)
if consteval support initialized (C++23 P1938R3) - Runtime strategy
auto(x) decay-copy and partial constexpr support initialized (C++23 P0849R8)
[Bug #30 FIX] CppToCVisitor using C_TU @ 0x14b07d3b0
Translating class: Entity
  -> struct Entity with 5 fields
  Generating implicit copy constructor
  Generated copy constructor: Entity__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 6 method declarations

// Static declarations for all Entity methods
static void Entity__ctor_4(struct Entity *this, float x, float y, float width, float height);
static void Entity__dtor(struct Entity *this);
static float Entity_getX(const struct Entity *this);
static float Entity_getY(const struct Entity *this);
static float Entity_getWidth(const struct Entity *this);
static float Entity_getHeight(const struct Entity *this);
static void Entity_setPosition(struct Entity *this, float newX, float newY);
static void Entity_update(struct Entity *this, float deltaTime);

Generating vtable for polymorphic class: Entity
Vtable struct generated:
struct Entity_vtable {
    const struct __class_type_info *type_info;  /**< RTTI type_info pointer (Itanium ABI vtable[-1]) */
    void (*destructor)(struct Entity *this);
    void (*update)(struct Entity *this, float deltaTime);
};

Vtable instance generated:

// Vtable instance for Entity
struct Entity_vtable Entity_vtable_instance = {
    .type_info = &Entity_type_info,  // RTTI type_info (placeholder)
    .destructor = Entity_destructor,
    .update = Entity_update,
};

Found variable: x
Found variable: y
Found variable: width
Found variable: height
Translating destructor: ~Entity
  -> Entity__dtor with 0 statements
  -> Entity__dtor created
Found variable: newX
Found variable: newY
Found variable: deltaTime
Translating class: Enemy
  -> struct Enemy with 7 fields
  Generating implicit copy constructor
    TODO: Call base copy constructor: Entity__ctor_copy
  Generated copy constructor: Enemy__ctor_copy
  [Phase 31-03] Generated 1 constructor, 1 destructor, 2 method declarations

// Static declarations for all Enemy methods
static void Enemy__ctor_2(struct Enemy *this, float x, float y);
static void Enemy__dtor(struct Enemy *this);
static int Enemy_getDamage(const struct Enemy *this);
static void Enemy_update(struct Enemy *this, float deltaTime);

Generating vtable for polymorphic class: Enemy
Vtable struct generated:
struct Enemy_vtable {
    const struct __class_type_info *type_info;  /**< RTTI type_info pointer (Itanium ABI vtable[-1]) */
    void (*destructor)(struct Enemy *this);
    void (*update)(struct Enemy *this, float deltaTime);
};

Vtable instance generated:

// Vtable instance for Enemy
struct Enemy_vtable Enemy_vtable_instance = {
    .type_info = &Enemy_type_info,  // RTTI type_info (placeholder)
    .destructor = Enemy_destructor,
    .update = Enemy_update,
};

Found variable: x
Found variable: y
Translating destructor: ~Enemy
  Emitting base destructor call for: Entity
  -> Added base destructor call to Entity__dtor
  -> Enemy__dtor with 1 statements
  -> Enemy__dtor created
Translating method: Enemy::getDamage
[DEBUG Bug#26] translateStmt called, type: CompoundStmt
  [Scope] Entering scope at depth 0
[DEBUG Bug#26] translateStmt called, type: ReturnStmt
[DEBUG Bug#26] Dispatching to translateReturnStmt
[DEBUG Bug#26] translateReturnStmt called
[DEBUG Bug#26] RetValue exists, type: ImplicitCastExpr
[DEBUG Bug#26]   ImplicitCastExpr -> subexpr type: MemberExpr
[DEBUG Bug#26] No constructor expression detected after unwrapping
  [Scope] Exiting scope at depth 0 with 0 objects
  -> Enemy_getDamage with body translated
  -> Enemy_getDamage with 1 parameters
Skipping virtual method (handled by vtable): Enemy::update
Found variable: deltaTime
Translating constructor: Enemy::Enemy
  -> Injected vptr initialization
  Translating base class initializer: Entity
  Warning: Base constructor function not found
  -> Enemy__ctor with 3 parameters, 3 statements
Found variable: x
Found variable: y
  -> Already translated, skipping redefinition of ~Enemy
  -> Already translated, skipping redefinition of Enemy::getDamage
Skipping virtual method (handled by vtable): Enemy::update
Found variable: deltaTime

========================================
Processing Template Instantiations
========================================

Found 0 class template instantiation(s)
Found 0 function template instantiation(s)

Monomorphizing class templates:

Monomorphizing function templates:

========================================
Template Monomorphization Complete
  Unique instantiations: 0
========================================

C TranslationUnit has 8 generated declarations
[DEBUG CodeGen] Manually printing ReturnStmt
[DEBUG CodeGen] Return value type: ImplicitCastExpr
Generated files:
  transpiled/src/Enemy.h
  transpiled/src/Enemy.c
[DEBUG] Tool.run() returned: 1
[DEBUG] After Tool.run(), about to handle dependencies...

Transpilation completed successfully. Generated 5 file pair(s).
    âœ“ Transpilation successful
  [4/5] Building transpiled C version...
./main.c:22:15: warning: incompatible pointer types passing 'struct Player *' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   22 |         Entity__dtor(this);
      |                      ^~~~
./main.c:13:35: note: passing argument to parameter 'this' here
   13 | void Entity__dtor(struct Entity * this) {
      |                                   ^
./main.c:31:15: warning: incompatible pointer types passing 'struct Enemy *' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   31 |         Entity__dtor(this);
      |                      ^~~~
./main.c:13:35: note: passing argument to parameter 'this' here
   13 | void Entity__dtor(struct Entity * this) {
      |                                   ^
./main.c:51:20: error: use of undeclared identifier 'CollisionDetector'
   51 |         bool colliding1 = CollisionDetector::checkCollision(player, enemy);
      |                           ^
./main.c:51:37: error: expected ';' at end of declaration
   51 |         bool colliding1 = CollisionDetector::checkCollision(player, enemy);
      |                                            ^
      |                                            ;
./main.c:53:21: warning: incompatible pointer types passing 'struct Enemy *' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   53 |         Entity_setPosition(&enemy, 110.F, 100.F);
      |                            ^~~~~~
./main.c:40:41: note: passing argument to parameter 'this' here
   40 | void Entity_setPosition(struct Entity * this, float newX, float newY);
      |                                         ^
./main.c:54:20: error: use of undeclared identifier 'CollisionDetector'
   54 |         bool colliding2 = CollisionDetector::checkCollision(player, enemy);
      |                           ^
./main.c:54:37: error: expected ';' at end of declaration
   54 |         bool colliding2 = CollisionDetector::checkCollision(player, enemy);
      |                                            ^
      |                                            ;
./main.c:58:16: error: use of undeclared identifier 'CollisionDetector'
   58 |         bool inside = CollisionDetector::pointInside(115.F, 115.F, player);
      |                       ^
./main.c:58:33: error: expected ';' at end of declaration
   58 |         bool inside = CollisionDetector::pointInside(115.F, 115.F, player);
      |                                        ^
      |                                        ;
./main.c:62:29: error: no member named 'getHealth' in 'struct Player'
   62 |         passed = passed && (player.getHealth() == 90);
      |                             ~~~~~~ ^
./main.c:63:29: error: no member named 'getScore' in 'struct Player'
   63 |         passed = passed && (player.getScore() == 100);
      |                             ~~~~~~ ^
3 warnings and 8 errors generated.
./src/Enemy.c:22:15: warning: incompatible pointer types passing 'struct Enemy *' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   22 |         Entity__dtor(this);
      |                      ^~~~
./src/Enemy.c:13:35: note: passing argument to parameter 'this' here
   13 | void Entity__dtor(struct Entity * this) {
      |                                   ^
./src/Enemy.c:31:10: error: use of undeclared identifier '__vtable_Enemy'
   31 |         this = &__vtable_Enemy;
      |                 ^
1 warning and 1 error generated.
./src/Entity.c:42:10: error: use of undeclared identifier '__vtable_Entity'
   42 |         this = &__vtable_Entity;
      |                 ^
1 error generated.
./src/Player.c:22:15: warning: incompatible pointer types passing 'struct Player *' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   22 |         Entity__dtor(this);
      |                      ^~~~
./src/Player.c:13:35: note: passing argument to parameter 'this' here
   13 | void Entity__dtor(struct Entity * this) {
      |                                   ^
./src/Player.c:48:10: error: use of undeclared identifier '__vtable_Player'
   48 |         this = &__vtable_Player;
      |                 ^
1 warning and 1 error generated.
./src/CollisionDetector.c:27:28: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   27 |         float aLeft = Entity_getX(&a);
      |                                   ^~
./src/CollisionDetector.c:22:35: note: passing argument to parameter 'this' here
   22 | float Entity_getX(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:29:29: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   29 |         float aRight = Entity_getX(&a) + Entity_getWidth(&a);
      |                                    ^~
./src/CollisionDetector.c:22:35: note: passing argument to parameter 'this' here
   22 | float Entity_getX(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:29:51: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   29 |         float aRight = Entity_getX(&a) + Entity_getWidth(&a);
      |                                                          ^~
./src/CollisionDetector.c:23:39: note: passing argument to parameter 'this' here
   23 | float Entity_getWidth(struct Entity * this);
      |                                       ^
./src/CollisionDetector.c:31:27: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   31 |         float aTop = Entity_getY(&a);
      |                                  ^~
./src/CollisionDetector.c:24:35: note: passing argument to parameter 'this' here
   24 | float Entity_getY(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:33:30: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   33 |         float aBottom = Entity_getY(&a) + Entity_getHeight(&a);
      |                                     ^~
./src/CollisionDetector.c:24:35: note: passing argument to parameter 'this' here
   24 | float Entity_getY(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:33:53: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   33 |         float aBottom = Entity_getY(&a) + Entity_getHeight(&a);
      |                                                            ^~
./src/CollisionDetector.c:25:40: note: passing argument to parameter 'this' here
   25 | float Entity_getHeight(struct Entity * this);
      |                                        ^
./src/CollisionDetector.c:35:28: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   35 |         float bLeft = Entity_getX(&b);
      |                                   ^~
./src/CollisionDetector.c:22:35: note: passing argument to parameter 'this' here
   22 | float Entity_getX(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:37:29: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   37 |         float bRight = Entity_getX(&b) + Entity_getWidth(&b);
      |                                    ^~
./src/CollisionDetector.c:22:35: note: passing argument to parameter 'this' here
   22 | float Entity_getX(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:37:51: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   37 |         float bRight = Entity_getX(&b) + Entity_getWidth(&b);
      |                                                          ^~
./src/CollisionDetector.c:23:39: note: passing argument to parameter 'this' here
   23 | float Entity_getWidth(struct Entity * this);
      |                                       ^
./src/CollisionDetector.c:39:27: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   39 |         float bTop = Entity_getY(&b);
      |                                  ^~
./src/CollisionDetector.c:24:35: note: passing argument to parameter 'this' here
   24 | float Entity_getY(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:41:30: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   41 |         float bBottom = Entity_getY(&b) + Entity_getHeight(&b);
      |                                     ^~
./src/CollisionDetector.c:24:35: note: passing argument to parameter 'this' here
   24 | float Entity_getY(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:41:53: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   41 |         float bBottom = Entity_getY(&b) + Entity_getHeight(&b);
      |                                                            ^~
./src/CollisionDetector.c:25:40: note: passing argument to parameter 'this' here
   25 | float Entity_getHeight(struct Entity * this);
      |                                        ^
./src/CollisionDetector.c:48:27: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   48 |         return px >= Entity_getX(&entity) && px <= Entity_getX(&entity) + Entity_getWidth(&entity) && py >= Entity_getY(&entity) && py <= Entity_getY(&entity) + Entity_getHeight(&entity);
      |                                  ^~~~~~~
./src/CollisionDetector.c:22:35: note: passing argument to parameter 'this' here
   22 | float Entity_getX(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:48:57: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   48 |         return px >= Entity_getX(&entity) && px <= Entity_getX(&entity) + Entity_getWidth(&entity) && py >= Entity_getY(&entity) && py <= Entity_getY(&entity) + Entity_getHeight(&entity);
      |                                                                ^~~~~~~
./src/CollisionDetector.c:22:35: note: passing argument to parameter 'this' here
   22 | float Entity_getX(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:48:84: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   48 |         return px >= Entity_getX(&entity) && px <= Entity_getX(&entity) + Entity_getWidth(&entity) && py >= Entity_getY(&entity) && py <= Entity_getY(&entity) + Entity_getHeight(&entity);
      |                                                                                           ^~~~~~~
./src/CollisionDetector.c:23:39: note: passing argument to parameter 'this' here
   23 | float Entity_getWidth(struct Entity * this);
      |                                       ^
./src/CollisionDetector.c:48:114: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   48 |         return px >= Entity_getX(&entity) && px <= Entity_getX(&entity) + Entity_getWidth(&entity) && py >= Entity_getY(&entity) && py <= Entity_getY(&entity) + Entity_getHeight(&entity);
      |                                                                                                                         ^~~~~~~
./src/CollisionDetector.c:24:35: note: passing argument to parameter 'this' here
   24 | float Entity_getY(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:48:144: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   48 |         return px >= Entity_getX(&entity) && px <= Entity_getX(&entity) + Entity_getWidth(&entity) && py >= Entity_getY(&entity) && py <= Entity_getY(&entity) + Entity_getHeight(&entity);
      |                                                                                                                                                       ^~~~~~~
./src/CollisionDetector.c:24:35: note: passing argument to parameter 'this' here
   24 | float Entity_getY(struct Entity * this);
      |                                   ^
./src/CollisionDetector.c:48:172: warning: incompatible pointer types passing 'const struct Entity **' to parameter of type 'struct Entity *' [-Wincompatible-pointer-types]
   48 |         return px >= Entity_getX(&entity) && px <= Entity_getX(&entity) + Entity_getWidth(&entity) && py >= Entity_getY(&entity) && py <= Entity_getY(&entity) + Entity_getHeight(&entity);
      |                                                                                                                                                                                   ^~~~~~~
./src/CollisionDetector.c:25:40: note: passing argument to parameter 'this' here
   25 | float Entity_getHeight(struct Entity * this);
      |                                        ^
18 warnings generated.
    [0;31mâœ— C build failed[0m
[0;31mâŒ FAIL: Game Logic[0m

========================================
SUMMARY
========================================
Total:  5 projects
Passed: 1
Failed: 4
Pass Rate: 1/5 (20%)

[0;31mâŒ FAIL: Less than 80% pass rate (20%)[0m
